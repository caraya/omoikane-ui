import{p as t}from"../prism-DU08x7FD.js";import o from"../languages/css-extras.js";import{M as s}from"../patterns-A_vPglum.js";import"../util-DdJteTVJ.js";import"../token-Dozwbq7Q.js";import"../insert-CpDsPTVw.js";import"../iterables-BnTatl6v.js";import"../languages/css-selector.js";const n=RegExp(s,"g"),e=/^#?((?:[\da-f]){3,4}|(?:[\da-f]{2}){3,4})$/i;function r(t){const o=e.exec(t);if(!o)return;const s=(t=o[1]).length>=6?2:1,n=t.length/s,r=1===s?1/15:1/255,i=[];for(let o=0;o<n;o++){const n=parseInt(t.substr(o*s,s),16);i.push(n*r)}return 3===n&&i.push(1),"rgba("+i.slice(0,3).map((t=>Math.round(255*t)+"")).join(",")+","+ +i[3].toFixed(3)+")"}function i(t){if("undefined"==typeof document)return;const o=(new Option).style;return o.color=t,o.color?t:void 0}const c={id:"inline-color",require:o,effect(t){const o=[r,i];return t.hooks.add("wrap",(t=>{if("color"===t.type||t.classes.includes("color")){const s=t.content,e=s.split(n).join("");let r;for(let t=0,s=o.length;t<s&&!r;t++)r=o[t](e);if(!r)return;const i='<span class="inline-color-wrapper"><span class="inline-color" style="background-color:'+r+';"></span></span>';t.content=i+s}}))}};t.pluginRegistry.add(c);export{c as default};
