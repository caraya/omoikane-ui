import{p as e,a as t}from"../prism-DU08x7FD.js";import"../util-DdJteTVJ.js";import"../token-Dozwbq7Q.js";import"../insert-CpDsPTVw.js";import"../iterables-BnTatl6v.js";class FilterHighlightAll{filters=[];filterKnown=!1;add(e){this.filters.push((i=>e({element:i,language:t(i)})))}addSelector(e){this.filters.push((t=>t.matches(e)))}reject={add:e=>{this.add((t=>!e(t)))},addSelector:e=>{this.filters.push((t=>!t.matches(e)))}};everyFilter(e){for(const t of this.filters)if(!t(e))return!1;return!0}}const i={id:"filter-highlight-all",plugin(e){const t=new FilterHighlightAll;if(t.add((i=>!t.filterKnown||e.languageRegistry.has(i.language))),"undefined"!=typeof document){const e=document.currentScript;if(e){let i;t.filterKnown=e.hasAttribute("data-filter-known"),i=e.getAttribute("data-filter-selector"),i&&t.addSelector(i),i=e.getAttribute("data-reject-selector"),i&&t.reject.addSelector(i)}}return t},effect(e){const t=e.pluginRegistry.peek(i)?.plugin;return e.hooks.add("before-all-elements-highlight",(e=>{e.elements=e.elements.filter((e=>t.everyFilter(e)))}))}};e.pluginRegistry.add(i);export{FilterHighlightAll,i as default};
