{"version":3,"file":"aspnet.js","sources":["../../src/languages/aspnet.js"],"sourcesContent":["import csharp from './csharp.js';\nimport markup from './markup.js';\n\n/** @type {import('../types.d.ts').LanguageProto<'aspnet'>} */\nexport default {\n\tid: 'aspnet',\n\tbase: markup,\n\trequire: csharp,\n\tgrammar ({ base }) {\n\t\tconst directive = /** @type {GrammarToken} */ ({\n\t\t\tpattern: /<%.*%>/,\n\t\t\talias: 'tag',\n\t\t\tinside: {\n\t\t\t\t'directive': {\n\t\t\t\t\tpattern: /<%\\s*?[$=%#:]{0,2}|%>/,\n\t\t\t\t\talias: 'tag',\n\t\t\t\t},\n\t\t\t\t$rest: 'csharp',\n\t\t\t},\n\t\t});\n\n\t\treturn {\n\t\t\t'page-directive': {\n\t\t\t\tpattern: /<%\\s*@.*%>/,\n\t\t\t\talias: 'tag',\n\t\t\t\tinside: {\n\t\t\t\t\t'page-directive': {\n\t\t\t\t\t\tpattern:\n\t\t\t\t\t\t\t/<%\\s*@\\s*(?:Assembly|Control|Implements|Import|Master(?:Type)?|OutputCache|Page|PreviousPageType|Reference|Register)?|%>/i,\n\t\t\t\t\t\talias: 'tag',\n\t\t\t\t\t},\n\t\t\t\t\t$rest: /** @type {GrammarToken} */ (base['tag']).inside,\n\t\t\t\t},\n\t\t\t},\n\t\t\t'directive': directive,\n\t\t\t$merge: {\n\t\t\t\t'tag': {\n\t\t\t\t\t// Regexp copied from markup, with a negative look-ahead added\n\t\t\t\t\tpattern:\n\t\t\t\t\t\t/<(?!%)\\/?[^\\s>\\/]+(?:\\s+[^\\s>\\/=]+(?:=(?:(\"|')(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])*\\1|[^\\s'\">=]+))?)*\\s*\\/?>/,\n\t\t\t\t},\n\t\t\t},\n\t\t\t$insertBefore: {\n\t\t\t\t'tag/attr-value/punctuation': {\n\t\t\t\t\t// match directives of attribute value foo=\"<% Bar %>\"\n\t\t\t\t\t'directive': directive,\n\t\t\t\t},\n\t\t\t\t'comment': {\n\t\t\t\t\t'asp-comment': {\n\t\t\t\t\t\tpattern: /<%--[\\s\\S]*?--%>/,\n\t\t\t\t\t\talias: ['asp', 'comment'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t// script runat=\"server\" contains csharp, not javascript\n\t\t\t\t['script' in base ? 'script' : 'tag']: {\n\t\t\t\t\t'asp-script': {\n\t\t\t\t\t\tpattern: /(<script(?=.*runat=['\"]?server\\b)[^>]*>)[\\s\\S]*?(?=<\\/script>)/i,\n\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\talias: ['asp', 'script'],\n\t\t\t\t\t\tinside: 'csharp',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t},\n};\n\n/**\n * @typedef {import('../types.d.ts').GrammarToken} GrammarToken\n */\n"],"names":["aspnet","id","base","markup","require","csharp","grammar","directive","pattern","alias","inside","$rest","$merge","tag","$insertBefore","comment","lookbehind"],"mappings":"0HAIA,IAAeA,EAAA,CACdC,GAAI,SACJC,KAAMC,EACNC,QAASC,EACT,OAAAC,EAASJ,KAAEA,IACV,MAAMK,EAAyC,CAC9CC,QAAS,SACTC,MAAO,MACPC,OAAQ,CACPH,UAAa,CACZC,QAAS,wBACTC,MAAO,OAERE,MAAO,WAIT,MAAO,CACN,iBAAkB,CACjBH,QAAS,aACTC,MAAO,MACPC,OAAQ,CACP,iBAAkB,CACjBF,QACC,4HACDC,MAAO,OAERE,MAAoCT,EAAW,IAAEQ,SAGnDH,UAAaA,EACbK,OAAQ,CACPC,IAAO,CAENL,QACC,qGAGHM,cAAe,CACd,6BAA8B,CAE7BP,UAAaA,GAEdQ,QAAW,CACV,cAAe,CACdP,QAAS,mBACTC,MAAO,CAAC,MAAO,aAIjB,CAAC,WAAYP,EAAO,SAAW,OAAQ,CACtC,aAAc,CACbM,QAAS,kEACTQ,YAAY,EACZP,MAAO,CAAC,MAAO,UACfC,OAAQ,YAKZ"}