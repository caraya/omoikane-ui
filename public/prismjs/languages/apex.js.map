{"version":3,"file":"apex.js","sources":["../../src/languages/apex.js"],"sourcesContent":["import clike from './clike.js';\nimport sql from './sql.js';\n\n/** @type {import('../types.d.ts').LanguageProto<'apex'>} */\nexport default {\n\tid: 'apex',\n\trequire: [clike, sql],\n\tgrammar ({ languages }) {\n\t\tconst keywords =\n\t\t\t/\\b(?:abstract|activate|(?:after|before)(?=\\s+[a-z])|and|any|array|as|asc|autonomous|begin|bigdecimal|blob|boolean|break|bulk|by|byte|case|cast|catch|char|class|collect|commit|const|continue|currency|date|datetime|decimal|default|delete|desc|do|double|else|end|enum|exception|exit|export|extends|final|finally|float|for|from|get(?=\\s*[{};])|global|goto|group|having|hint|if|implements|import|in|inner|insert|instanceof|int|integer|interface|into|join|like|limit|list|long|loop|map|merge|new|not|null|nulls|number|object|of|on|or|outer|override|package|parallel|pragma|private|protected|public|retrieve|return|rollback|select|set|short|sObject|sort|static|string|super|switch|synchronized|system|testmethod|then|this|throw|time|transaction|transient|trigger|try|undelete|update|upsert|using|virtual|void|webservice|when|where|while|(?:inherited|with|without)\\s+sharing)\\b/i;\n\n\t\tconst className =\n\t\t\t/\\b(?:(?=[a-z_]\\w*\\s*[<\\[])|(?!<keyword>))[A-Z_]\\w*(?:\\s*\\.\\s*[A-Z_]\\w*)*\\b(?:\\s*(?:\\[\\s*\\]|<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>))*/.source.replace(\n\t\t\t\t/<keyword>/g,\n\t\t\t\t() => keywords.source\n\t\t\t);\n\n\t\t/**\n\t\t * @param {string} pattern\n\t\t * @returns {RegExp}\n\t\t */\n\t\tfunction insertClassName (pattern) {\n\t\t\treturn RegExp(\n\t\t\t\tpattern.replace(/<CLASS-NAME>/g, () => className),\n\t\t\t\t'i'\n\t\t\t);\n\t\t}\n\n\t\tconst classNameInside = {\n\t\t\t'keyword': keywords,\n\t\t\t'punctuation': /[()\\[\\]{};,:.<>]/,\n\t\t};\n\n\t\tconst clike = languages.clike;\n\n\t\treturn {\n\t\t\t'comment': clike.comment,\n\t\t\t'string': clike.string,\n\t\t\t'sql': {\n\t\t\t\tpattern: /((?:[=,({:]|\\breturn)\\s*)\\[[^\\[\\]]*\\]/i,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\talias: 'language-sql',\n\t\t\t\tinside: 'sql',\n\t\t\t},\n\n\t\t\t'annotation': {\n\t\t\t\tpattern: /@\\w+\\b/,\n\t\t\t\talias: 'punctuation',\n\t\t\t},\n\t\t\t'class-name': [\n\t\t\t\t{\n\t\t\t\t\tpattern: insertClassName(\n\t\t\t\t\t\t/(\\b(?:class|enum|extends|implements|instanceof|interface|new|trigger\\s+\\w+\\s+on)\\s+)<CLASS-NAME>/\n\t\t\t\t\t\t\t.source\n\t\t\t\t\t),\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tinside: classNameInside,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t// cast\n\t\t\t\t\tpattern: insertClassName(/(\\(\\s*)<CLASS-NAME>(?=\\s*\\)\\s*[\\w(])/.source),\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tinside: classNameInside,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t// variable/parameter declaration and return types\n\t\t\t\t\tpattern: insertClassName(/<CLASS-NAME>(?=\\s*\\w+\\s*[;=,(){:])/.source),\n\t\t\t\t\tinside: classNameInside,\n\t\t\t\t},\n\t\t\t],\n\t\t\t'trigger': {\n\t\t\t\tpattern: /(\\btrigger\\s+)\\w+\\b/i,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'class-name',\n\t\t\t},\n\t\t\t'keyword': keywords,\n\t\t\t'function': /\\b[a-z_]\\w*(?=\\s*\\()/i,\n\n\t\t\t'boolean': /\\b(?:false|true)\\b/i,\n\n\t\t\t'number': /(?:\\B\\.\\d+|\\b\\d+(?:\\.\\d+|L)?)\\b/i,\n\t\t\t'operator': /[!=](?:==?)?|\\?\\.?|&&|\\|\\||--|\\+\\+|[-+*/^&|]=?|:|<<?=?|>{1,3}=?/,\n\t\t\t'punctuation': /[()\\[\\]{};,.]/,\n\t\t};\n\t},\n};\n"],"names":["apex","id","require","clike","sql","grammar","languages","keywords","className","replace","source","insertClassName","pattern","RegExp","classNameInside","keyword","punctuation","comment","string","lookbehind","greedy","alias","inside","annotation","trigger","function","boolean","number","operator"],"mappings":"kDAIA,IAAeA,EAAA,CACdC,GAAI,OACJC,QAAS,CAACC,EAAOC,GACjB,OAAAC,EAASC,UAAEA,IACV,MAAMC,EACL,y2BAEKC,EACL,iJAA0IC,QACzI,cACA,IAAMF,EAASG,SAOjB,SAASC,EAAiBC,GACzB,OAAOC,OACND,EAAQH,QAAQ,iBAAiB,IAAMD,IACvC,IAEJ,CAEE,MAAMM,EAAkB,CACvBC,QAAWR,EACXS,YAAe,oBAGVb,EAAQG,EAAUH,MAExB,MAAO,CACNc,QAAWd,EAAMc,QACjBC,OAAUf,EAAMe,OAChBd,IAAO,CACNQ,QAAS,yCACTO,YAAY,EACZC,QAAQ,EACRC,MAAO,eACPC,OAAQ,OAGTC,WAAc,CACbX,QAAS,SACTS,MAAO,eAER,aAAc,CACb,CACCT,QAASD,EACR,yGAGDQ,YAAY,EACZG,OAAQR,GAET,CAECF,QAASD,EAAgB,8CACzBQ,YAAY,EACZG,OAAQR,GAET,CAECF,QAASD,EAAgB,yCACzBW,OAAQR,IAGVU,QAAW,CACVZ,QAAS,uBACTO,YAAY,EACZE,MAAO,cAERN,QAAWR,EACXkB,SAAY,wBAEZC,QAAW,sBAEXC,OAAU,mCACVC,SAAY,kEACZZ,YAAe,gBAEhB"}