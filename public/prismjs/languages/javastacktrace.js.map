{"version":3,"file":"javastacktrace.js","sources":["../../src/languages/javastacktrace.js"],"sourcesContent":["/** @type {import('../types.d.ts').LanguageProto<'javastacktrace'>} */\nexport default {\n\tid: 'javastacktrace',\n\tgrammar () {\n\t\t// Specification:\n\t\t// https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/Throwable.html#printStackTrace()\n\n\t\treturn {\n\t\t\t// java.sql.SQLException: Violation of unique constraint MY_ENTITY_UK_1: duplicate value(s) for column(s) MY_COLUMN in statement [...]\n\t\t\t// Caused by: java.sql.SQLException: Violation of unique constraint MY_ENTITY_UK_1: duplicate value(s) for column(s) MY_COLUMN in statement [...]\n\t\t\t// Caused by: com.example.myproject.MyProjectServletException\n\t\t\t// Caused by: MidLevelException: LowLevelException\n\t\t\t// Suppressed: Resource$CloseFailException: Resource ID = 0\n\t\t\t'summary': {\n\t\t\t\tpattern:\n\t\t\t\t\t/^([\\t ]*)(?:(?:Caused by:|Suppressed:|Exception in thread \"[^\"]*\")[\\t ]+)?[\\w$.]+(?::.*)?$/m,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'keyword': {\n\t\t\t\t\t\tpattern: /^([\\t ]*)(?:(?:Caused by|Suppressed)(?=:)|Exception in thread)/m,\n\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t},\n\n\t\t\t\t\t// the current thread if the summary starts with 'Exception in thread'\n\t\t\t\t\t'string': {\n\t\t\t\t\t\tpattern: /^(\\s*)\"[^\"]*\"/,\n\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t},\n\t\t\t\t\t'exceptions': {\n\t\t\t\t\t\tpattern: /^(:?\\s*)[\\w$.]+(?=:|$)/,\n\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\tinside: {\n\t\t\t\t\t\t\t'class-name': /[\\w$]+$/,\n\t\t\t\t\t\t\t'namespace': /\\b[a-z]\\w*\\b/,\n\t\t\t\t\t\t\t'punctuation': /\\./,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t'message': {\n\t\t\t\t\t\tpattern: /(:\\s*)\\S.*/,\n\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\talias: 'string',\n\t\t\t\t\t},\n\t\t\t\t\t'punctuation': /:/,\n\t\t\t\t},\n\t\t\t},\n\n\t\t\t// at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)\n\t\t\t// at org.hsqldb.jdbc.Util.throwError(Unknown Source) here could be some notes\n\t\t\t// at java.base/java.lang.Class.forName0(Native Method)\n\t\t\t// at Util.<init>(Unknown Source)\n\t\t\t// at com.foo.loader/foo@9.0/com.foo.Main.run(Main.java:101)\n\t\t\t// at com.foo.loader//com.foo.bar.App.run(App.java:12)\n\t\t\t// at acme@2.1/org.acme.Lib.test(Lib.java:80)\n\t\t\t// at MyClass.mash(MyClass.java:9)\n\t\t\t//\n\t\t\t// More information:\n\t\t\t// https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/StackTraceElement.html#toString()\n\t\t\t//\n\t\t\t// A valid Java module name is defined as:\n\t\t\t//   \"A module name consists of one or more Java identifiers (ยง3.8) separated by \".\" tokens.\"\n\t\t\t// https://docs.oracle.com/javase/specs/jls/se9/html/jls-6.html#jls-ModuleName\n\t\t\t//\n\t\t\t// A Java module version is defined by this class:\n\t\t\t// https://docs.oracle.com/javase/9/docs/api/java/lang/module/ModuleDescriptor.Version.html\n\t\t\t// This is the implementation of the `parse` method in JDK13:\n\t\t\t// https://github.com/matcdac/jdk/blob/2305df71d1b7710266ae0956d73927a225132c0f/src/java.base/share/classes/java/lang/module/ModuleDescriptor.java#L1108\n\t\t\t// However, to keep this simple, a version will be matched by the pattern /@[\\w$.+-]*/.\n\t\t\t'stack-frame': {\n\t\t\t\tpattern: /^([\\t ]*)at (?:[\\w$./]|@[\\w$.+-]*\\/)+(?:<init>)?\\([^()]*\\)/m,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'keyword': {\n\t\t\t\t\t\tpattern: /^(\\s*)at(?= )/,\n\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t},\n\t\t\t\t\t'source': [\n\t\t\t\t\t\t// (Main.java:15)\n\t\t\t\t\t\t// (Main.scala:15)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /(\\()\\w+\\.\\w+:\\d+(?=\\))/,\n\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\tinside: {\n\t\t\t\t\t\t\t\t'file': /^\\w+\\.\\w+/,\n\t\t\t\t\t\t\t\t'punctuation': /:/,\n\t\t\t\t\t\t\t\t'line-number': {\n\t\t\t\t\t\t\t\t\tpattern: /\\b\\d+\\b/,\n\t\t\t\t\t\t\t\t\talias: 'number',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t// (Unknown Source)\n\t\t\t\t\t\t// (Native Method)\n\t\t\t\t\t\t// (...something...)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /(\\()[^()]*(?=\\))/,\n\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\tinside: {\n\t\t\t\t\t\t\t\t'keyword': /^(?:Native Method|Unknown Source)$/,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\t'class-name': /[\\w$]+(?=\\.(?:<init>|[\\w$]+)\\()/,\n\t\t\t\t\t'function': /(?:<init>|[\\w$]+)(?=\\()/,\n\t\t\t\t\t'class-loader': {\n\t\t\t\t\t\tpattern: /(\\s)[a-z]\\w*(?:\\.[a-z]\\w*)*(?=\\/[\\w@$.]*\\/)/,\n\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\talias: 'namespace',\n\t\t\t\t\t\tinside: {\n\t\t\t\t\t\t\t'punctuation': /\\./,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t'module': {\n\t\t\t\t\t\tpattern: /([\\s/])[a-z]\\w*(?:\\.[a-z]\\w*)*(?:@[\\w$.+-]*)?(?=\\/)/,\n\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\tinside: {\n\t\t\t\t\t\t\t'version': {\n\t\t\t\t\t\t\t\tpattern: /(@)[\\s\\S]+/,\n\t\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\t\talias: 'number',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t'punctuation': /[@.]/,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t'namespace': {\n\t\t\t\t\t\tpattern: /(?:\\b[a-z]\\w*\\.)+/,\n\t\t\t\t\t\tinside: {\n\t\t\t\t\t\t\t'punctuation': /\\./,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t'punctuation': /[()/.]/,\n\t\t\t\t},\n\t\t\t},\n\n\t\t\t// ... 32 more\n\t\t\t// ... 32 common frames omitted\n\t\t\t'more': {\n\t\t\t\tpattern: /^([\\t ]*)\\.{3} \\d+ [a-z]+(?: [a-z]+)*/m,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /\\.{3}/,\n\t\t\t\t\t'number': /\\d+/,\n\t\t\t\t\t'keyword': /\\b[a-z]+(?: [a-z]+)*\\b/,\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t},\n};\n"],"names":["javastacktrace","id","grammar","summary","pattern","lookbehind","inside","keyword","string","exceptions","namespace","punctuation","message","alias","source","file","function","module","version","more","number"],"mappings":"AACA,IAAeA,EAAA,CACdC,GAAI,iBACJC,QAAQ,KAIA,CAMNC,QAAW,CACVC,QACC,8FACDC,YAAY,EACZC,OAAQ,CACPC,QAAW,CACVH,QAAS,kEACTC,YAAY,GAIbG,OAAU,CACTJ,QAAS,gBACTC,YAAY,GAEbI,WAAc,CACbL,QAAS,yBACTC,YAAY,EACZC,OAAQ,CACP,aAAc,UACdI,UAAa,eACbC,YAAe,OAGjBC,QAAW,CACVR,QAAS,aACTC,YAAY,EACZQ,MAAO,UAERF,YAAe,MAyBjB,cAAe,CACdP,QAAS,8DACTC,YAAY,EACZC,OAAQ,CACPC,QAAW,CACVH,QAAS,gBACTC,YAAY,GAEbS,OAAU,CAGT,CACCV,QAAS,yBACTC,YAAY,EACZC,OAAQ,CACPS,KAAQ,YACRJ,YAAe,IACf,cAAe,CACdP,QAAS,UACTS,MAAO,YAOV,CACCT,QAAS,mBACTC,YAAY,EACZC,OAAQ,CACPC,QAAW,wCAId,aAAc,kCACdS,SAAY,0BACZ,eAAgB,CACfZ,QAAS,8CACTC,YAAY,EACZQ,MAAO,YACPP,OAAQ,CACPK,YAAe,OAGjBM,OAAU,CACTb,QAAS,sDACTC,YAAY,EACZC,OAAQ,CACPY,QAAW,CACVd,QAAS,aACTC,YAAY,EACZQ,MAAO,UAERF,YAAe,SAGjBD,UAAa,CACZN,QAAS,oBACTE,OAAQ,CACPK,YAAe,OAGjBA,YAAe,WAMjBQ,KAAQ,CACPf,QAAS,yCACTC,YAAY,EACZC,OAAQ,CACPK,YAAe,QACfS,OAAU,MACVb,QAAW"}