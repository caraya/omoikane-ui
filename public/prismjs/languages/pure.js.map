{"version":3,"file":"pure.js","sources":["../../src/languages/pure.js"],"sourcesContent":["/** @type {import('../types.d.ts').LanguageProto<'pure'>} */\nexport default {\n\tid: 'pure',\n\tgrammar () {\n\t\t// https://agraef.github.io/pure-docs/pure.html#lexical-matters\n\n\t\tconst inlineLang = {\n\t\t\tpattern: /%<[\\s\\S]+?%>/,\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'lang': {\n\t\t\t\t\tpattern: /(^%< *)-\\*-.+?-\\*-/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'comment',\n\t\t\t\t},\n\t\t\t\t'delimiter': {\n\t\t\t\t\tpattern: /^%<.*|%>$/,\n\t\t\t\t\talias: 'punctuation',\n\t\t\t\t},\n\t\t\t\t// C is the default inline language\n\t\t\t\t$rest: 'c',\n\t\t\t},\n\t\t};\n\n\t\tconst inlineLanguages = ['c', { lang: 'c++', alias: 'cpp' }, 'fortran'];\n\t\tconst inlineLanguageRe = /%< *-\\*- *<lang>\\d* *-\\*-[\\s\\S]+?%>/.source;\n\n\t\tconst insertBeforeInlineLang = [];\n\t\tinlineLanguages.forEach(item => {\n\t\t\tlet alias;\n\t\t\tlet lang;\n\t\t\tif (typeof item === 'string') {\n\t\t\t\talias = lang = item;\n\t\t\t}\n\t\t\telse {\n\t\t\t\talias = item.alias;\n\t\t\t\tlang = item.lang;\n\t\t\t}\n\n\t\t\tinsertBeforeInlineLang.push([\n\t\t\t\t['inline-lang-' + alias],\n\t\t\t\t{\n\t\t\t\t\tpattern: RegExp(\n\t\t\t\t\t\tinlineLanguageRe.replace(\n\t\t\t\t\t\t\t'<lang>',\n\t\t\t\t\t\t\tlang.replace(/([.+*?\\/\\\\(){}\\[\\]])/g, '\\\\$1')\n\t\t\t\t\t\t),\n\t\t\t\t\t\t'i'\n\t\t\t\t\t),\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t...inlineLang.inside,\n\t\t\t\t\t\t$rest: alias,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t]);\n\t\t});\n\n\t\treturn {\n\t\t\t'comment': [\n\t\t\t\t{\n\t\t\t\t\tpattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?\\*\\//,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tpattern: /(^|[^\\\\:])\\/\\/.*/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t},\n\t\t\t\t/#!.+/,\n\t\t\t],\n\t\t\t'inline-lang': inlineLang,\n\t\t\t'string': {\n\t\t\t\tpattern: /\"(?:\\\\.|[^\"\\\\\\r\\n])*\"/,\n\t\t\t\tgreedy: true,\n\t\t\t},\n\t\t\t'number': {\n\t\t\t\t// The look-behind prevents wrong highlighting of the .. operator\n\t\t\t\tpattern:\n\t\t\t\t\t/((?:\\.\\.)?)(?:\\b(?:inf|nan)\\b|\\b0x[\\da-f]+|(?:\\b(?:0b)?\\d+(?:\\.\\d+)?|\\B\\.\\d+)(?:e[+-]?\\d+)?L?)/i,\n\t\t\t\tlookbehind: true,\n\t\t\t},\n\t\t\t'keyword':\n\t\t\t\t/\\b(?:NULL|ans|break|bt|case|catch|cd|clear|const|def|del|dump|else|end|exit|extern|false|force|help|if|infix[lr]?|interface|let|ls|mem|namespace|nonfix|of|otherwise|outfix|override|postfix|prefix|private|public|pwd|quit|run|save|show|stats|then|throw|trace|true|type|underride|using|when|with)\\b/,\n\t\t\t'function':\n\t\t\t\t/\\b(?:abs|add_(?:addr|constdef|(?:fundef|interface|macdef|typedef)(?:_at)?|vardef)|all|any|applp?|arity|bigintp?|blob(?:_crc|_size|p)?|boolp?|byte_c?string(?:_pointer)?|byte_(?:matrix|pointer)|calloc|cat|catmap|ceil|char[ps]?|check_ptrtag|chr|clear_sentry|clearsym|closurep?|cmatrixp?|cols?|colcat(?:map)?|colmap|colrev|colvector(?:p|seq)?|complex(?:_float_(?:matrix|pointer)|_matrix(?:_view)?|_pointer|p)?|conj|cookedp?|cst|cstring(?:_(?:dup|list|vector))?|curry3?|cyclen?|del_(?:constdef|fundef|interface|macdef|typedef|vardef)|delete|diag(?:mat)?|dim|dmatrixp?|do|double(?:_matrix(?:_view)?|_pointer|p)?|dowith3?|drop|dropwhile|eval(?:cmd)?|exactp|filter|fix|fixity|flip|float(?:_matrix|_pointer)|floor|fold[lr]1?|frac|free|funp?|functionp?|gcd|get(?:_(?:byte|constdef|double|float|fundef|int(?:64)?|interface(?:_typedef)?|long|macdef|pointer|ptrtag|sentry|short|string|typedef|vardef))?|globsym|hash|head|id|im|imatrixp?|index|inexactp|infp|init|insert|int(?:_matrix(?:_view)?|_pointer|p)?|int64_(?:matrix|pointer)|integerp?|iteraten?|iterwhile|join|keys?|lambdap?|last(?:err(?:pos)?)?|lcd|list[2p]?|listmap|make_ptrtag|malloc|map|matcat|matrixp?|max|member|min|nanp|nargs|nmatrixp?|null|numberp?|ord|pack(?:ed)?|pointer(?:_cast|_tag|_type|p)?|pow|pred|ptrtag|put(?:_(?:byte|double|float|int(?:64)?|long|pointer|short|string))?|rationalp?|re|realp?|realloc|recordp?|redim|reduce(?:_with)?|refp?|repeatn?|reverse|rlistp?|round|rows?|rowcat(?:map)?|rowmap|rowrev|rowvector(?:p|seq)?|same|scan[lr]1?|sentry|sgn|short_(?:matrix|pointer)|slice|smatrixp?|sort|split|str|strcat|stream|stride|string(?:_(?:dup|list|vector)|p)?|subdiag(?:mat)?|submat|subseq2?|substr|succ|supdiag(?:mat)?|symbolp?|tail|take|takewhile|thunkp?|transpose|trunc|tuplep?|typep|ubyte|uint(?:64)?|ulong|uncurry3?|unref|unzip3?|update|ushort|vals?|varp?|vector(?:p|seq)?|void|zip3?|zipwith3?)\\b/,\n\t\t\t'special': {\n\t\t\t\tpattern: /\\b__[a-z]+__\\b/i,\n\t\t\t\talias: 'builtin',\n\t\t\t},\n\t\t\t// Any combination of operator chars can be an operator\n\t\t\t'operator':\n\t\t\t\t// eslint-disable-next-line no-misleading-character-class\n\t\t\t\t/(?:[!\"#$%&'*+,\\-.\\/:<=>?@\\\\^`|~\\u00a1-\\u00bf\\u00d7-\\u00f7\\u20d0-\\u2bff]|\\b_+\\b)+|\\b(?:and|div|mod|not|or)\\b/,\n\t\t\t// FIXME: How can we prevent | and , to be highlighted as operator when they are used alone?\n\t\t\t'punctuation': /[(){}\\[\\];,|]/,\n\t\t\t$insertBefore: {\n\t\t\t\t'inline-lang': Object.fromEntries(insertBeforeInlineLang),\n\t\t\t},\n\t\t};\n\t},\n};\n"],"names":["pure","id","grammar","inlineLang","pattern","greedy","inside","lang","lookbehind","alias","delimiter","$rest","insertBeforeInlineLang","forEach","item","push","RegExp","replace","comment","string","number","keyword","function","special","operator","punctuation","$insertBefore","Object","fromEntries"],"mappings":"AACA,IAAeA,EAAA,CACdC,GAAI,OACJ,OAAAC,GAGC,MAAMC,EAAa,CAClBC,QAAS,eACTC,QAAQ,EACRC,OAAQ,CACPC,KAAQ,CACPH,QAAS,qBACTI,YAAY,EACZC,MAAO,WAERC,UAAa,CACZN,QAAS,YACTK,MAAO,eAGRE,MAAO,MAOHC,EAAyB,GA8B/B,MAjCwB,CAAC,IAAK,CAAEL,KAAM,MAAOE,MAAO,OAAS,WAI7CI,SAAQC,IACvB,IAAIL,EACAF,EACgB,iBAATO,EACVL,EAAQF,EAAOO,GAGfL,EAAQK,EAAKL,MACbF,EAAOO,EAAKP,MAGbK,EAAuBG,KAAK,CAC3B,CAAC,eAAiBN,GAClB,CACCL,QAASY,OAjBa,sCAkBJC,QAChB,SACAV,EAAKU,QAAQ,wBAAyB,SAEvC,KAEDX,OAAQ,IACJH,EAAWG,OACdK,MAAOF,KAGR,IAGI,CACNS,QAAW,CACV,CACCd,QAAS,4BACTI,YAAY,GAEb,CACCJ,QAAS,mBACTI,YAAY,GAEb,QAED,cAAeL,EACfgB,OAAU,CACTf,QAAS,wBACTC,QAAQ,GAETe,OAAU,CAEThB,QACC,kGACDI,YAAY,GAEba,QACC,0SACDC,SACC,00DACDC,QAAW,CACVnB,QAAS,kBACTK,MAAO,WAGRe,SAEC,8GAEDC,YAAe,gBACfC,cAAe,CACd,cAAeC,OAAOC,YAAYhB,IAGpC"}