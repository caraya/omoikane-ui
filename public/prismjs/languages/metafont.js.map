{"version":3,"file":"metafont.js","sources":["../../src/languages/metafont.js"],"sourcesContent":["/** @type {import('../types.d.ts').LanguageProto<'metafont'>} */\nexport default {\n\tid: 'metafont',\n\tgrammar: {\n\t\t// Syntax of METAFONT with the added (public) elements of PlainMETAFONT. Except for internal quantities they are expected to be rarely redefined. Freely inspired by the syntax of Christophe Grandsire for the Crimson Editor.\n\t\t'comment': {\n\t\t\tpattern: /%.*/,\n\t\t\tgreedy: true,\n\t\t},\n\t\t'string': {\n\t\t\tpattern: /\"[^\\r\\n\"]*\"/,\n\t\t\tgreedy: true,\n\t\t},\n\t\t'number': /\\d*\\.?\\d+/,\n\t\t'boolean': /\\b(?:false|true)\\b/,\n\t\t'punctuation': [\n\t\t\t/[,;()]/,\n\t\t\t{\n\t\t\t\tpattern: /(^|[^{}])(?:\\{|\\})(?![{}])/,\n\t\t\t\tlookbehind: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /(^|[^[])\\[(?!\\[)/,\n\t\t\t\tlookbehind: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /(^|[^\\]])\\](?!\\])/,\n\t\t\t\tlookbehind: true,\n\t\t\t},\n\t\t],\n\t\t'constant': [\n\t\t\t{\n\t\t\t\tpattern: /(^|[^!?])\\?\\?\\?(?![!?])/,\n\t\t\t\tlookbehind: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /(^|[^/*\\\\])(?:\\\\|\\\\\\\\)(?![/*\\\\])/,\n\t\t\t\tlookbehind: true,\n\t\t\t},\n\t\t\t/\\b(?:_|blankpicture|bp|cc|cm|dd|ditto|down|eps|epsilon|fullcircle|halfcircle|identity|in|infinity|left|mm|nullpen|nullpicture|origin|pc|penrazor|penspeck|pensquare|penstroke|proof|pt|quartercircle|relax|right|smoke|unitpixel|unitsquare|up)\\b/,\n\t\t],\n\t\t'quantity': {\n\t\t\tpattern:\n\t\t\t\t/\\b(?:autorounding|blacker|boundarychar|charcode|chardp|chardx|chardy|charext|charht|charic|charwd|currentwindow|day|designsize|displaying|fillin|fontmaking|granularity|hppp|join_radius|month|o_correction|pausing|pen_(?:bot|lft|rt|top)|pixels_per_inch|proofing|showstopping|smoothing|time|tolerance|tracingcapsules|tracingchoices|tracingcommands|tracingedges|tracingequations|tracingmacros|tracingonline|tracingoutput|tracingpens|tracingrestores|tracingspecs|tracingstats|tracingtitles|turningcheck|vppp|warningcheck|xoffset|year|yoffset)\\b/,\n\t\t\talias: 'keyword',\n\t\t},\n\t\t'command': {\n\t\t\tpattern:\n\t\t\t\t/\\b(?:addto|batchmode|charlist|cull|display|errhelp|errmessage|errorstopmode|everyjob|extensible|fontdimen|headerbyte|inner|interim|let|ligtable|message|newinternal|nonstopmode|numspecial|openwindow|outer|randomseed|save|scrollmode|shipout|show|showdependencies|showstats|showtoken|showvariable|special)\\b/,\n\t\t\talias: 'builtin',\n\t\t},\n\t\t'operator': [\n\t\t\t{\n\t\t\t\tpattern:\n\t\t\t\t\t/(^|[^>=<:|])(?:<|<=|=|=:|\\|=:|\\|=:>|=:\\|>|=:\\||\\|=:\\||\\|=:\\|>|\\|=:\\|>>|>|>=|:|:=|<>|::|\\|\\|:)(?![>=<:|])/,\n\t\t\t\tlookbehind: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /(^|[^+-])(?:\\+|\\+\\+|-{1,3}|\\+-\\+)(?![+-])/,\n\t\t\t\tlookbehind: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /(^|[^/*\\\\])(?:\\*|\\*\\*|\\/)(?![/*\\\\])/,\n\t\t\t\tlookbehind: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /(^|[^.])(?:\\.{2,3})(?!\\.)/,\n\t\t\t\tlookbehind: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /(^|[^@#&$])&(?![@#&$])/,\n\t\t\t\tlookbehind: true,\n\t\t\t},\n\t\t\t/\\b(?:and|not|or)\\b/,\n\t\t],\n\t\t'macro': {\n\t\t\tpattern:\n\t\t\t\t/\\b(?:abs|beginchar|bot|byte|capsule_def|ceiling|change_width|clear_pen_memory|clearit|clearpen|clearxy|counterclockwise|cullit|cutdraw|cutoff|decr|define_blacker_pixels|define_corrected_pixels|define_good_x_pixels|define_good_y_pixels|define_horizontal_corrected_pixels|define_pixels|define_whole_blacker_pixels|define_whole_pixels|define_whole_vertical_blacker_pixels|define_whole_vertical_pixels|dir|direction|directionpoint|div|dotprod|downto|draw|drawdot|endchar|erase|fill|filldraw|fix_units|flex|font_coding_scheme|font_extra_space|font_identifier|font_normal_shrink|font_normal_space|font_normal_stretch|font_quad|font_size|font_slant|font_x_height|gfcorners|gobble|gobbled|good\\.(?:bot|lft|rt|top|x|y)|grayfont|hide|hround|imagerules|incr|interact|interpath|intersectionpoint|inverse|italcorr|killtext|labelfont|labels|lft|loggingall|lowres_fix|makegrid|makelabel(?:\\.(?:bot|lft|rt|top)(?:\\.nodot)?)?|max|min|mod|mode_def|mode_setup|nodisplays|notransforms|numtok|openit|penlabels|penpos|pickup|proofoffset|proofrule|proofrulethickness|range|reflectedabout|rotatedabout|rotatedaround|round|rt|savepen|screenchars|screenrule|screenstrokes|shipit|showit|slantfont|softjoin|solve|stop|superellipse|tensepath|thru|titlefont|top|tracingall|tracingnone|undraw|undrawdot|unfill|unfilldraw|upto|vround)\\b/,\n\t\t\talias: 'function',\n\t\t},\n\t\t'builtin':\n\t\t\t/\\b(?:ASCII|angle|char|cosd|decimal|directiontime|floor|hex|intersectiontimes|jobname|known|length|makepath|makepen|mexp|mlog|normaldeviate|oct|odd|pencircle|penoffset|point|postcontrol|precontrol|reverse|rotated|sind|sqrt|str|subpath|substring|totalweight|turningnumber|uniformdeviate|unknown|xpart|xxpart|xypart|ypart|yxpart|yypart)\\b/,\n\t\t'keyword':\n\t\t\t/\\b(?:also|at|atleast|begingroup|charexists|contour|controls|curl|cycle|def|delimiters|doublepath|dropping|dump|else|elseif|end|enddef|endfor|endgroup|endinput|exitif|exitunless|expandafter|fi|for|forever|forsuffixes|from|if|input|inwindow|keeping|kern|of|primarydef|quote|readstring|scaled|scantokens|secondarydef|shifted|skipto|slanted|step|tension|tertiarydef|to|transformed|until|vardef|withpen|withweight|xscaled|yscaled|zscaled)\\b/,\n\t\t'type': {\n\t\t\tpattern:\n\t\t\t\t/\\b(?:boolean|expr|numeric|pair|path|pen|picture|primary|secondary|string|suffix|tertiary|text|transform)\\b/,\n\t\t\talias: 'property',\n\t\t},\n\t\t'variable': {\n\t\t\tpattern:\n\t\t\t\t/(^|[^@#&$])(?:@#|#@|#|@)(?![@#&$])|\\b(?:aspect_ratio|currentpen|currentpicture|currenttransform|d|extra_beginchar|extra_endchar|extra_setup|h|localfont|mag|mode|screen_cols|screen_rows|w|whatever|x|y|z)\\b/,\n\t\t\tlookbehind: true,\n\t\t},\n\t},\n};\n"],"names":["metafont","id","grammar","comment","pattern","greedy","string","number","boolean","punctuation","lookbehind","constant","quantity","alias","command","operator","macro","builtin","keyword","type","variable"],"mappings":"AACA,IAAeA,EAAA,CACdC,GAAI,WACLC,QAAA,KAAA,CAAAC,QAAA,CAAAC,QAAA,MAAAC,QAAA,GAAAC,OAAA,CAAAF,QAAA,cAAAC,QAAA,GAAAE,OAAA,YAAAC,QAAA,qBAAAC,YAAA,CAAA,SAAA,CAAAL,QAAA,6BAAAM,YAAA,GAAA,CAAAN,QAAA,mBAAAM,YAAA,GAAA,CAAAN,QAAA,oBAAAM,YAAA,IAAAC,SAAA,CAAA,CAAAP,QAAA,0BAAAM,YAAA,GAAA,CAAAN,QAAA,mCAAAM,YAAA,GAAA,qPAAAE,SAAA,CAAAR,QAAA,8hBAAAS,MAAA,WAAAC,QAAA,CAAAV,QAAA,mTAAAS,MAAA,WAAAE,SAAA,CAAA,CAAAX,QAAA,2GAAAM,YAAA,GAAA,CAAAN,QAAA,4CAAAM,YAAA,GAAA,CAAAN,QAAA,sCAAAM,YAAA,GAAA,CAAAN,QAAA,4BAAAM,YAAA,GAAA,CAAAN,QAAA,yBAAAM,YAAA,GAAA,sBAAAM,MAAA,CAAAZ,QAAA,2xCAAAS,MAAA,YAAAI,QAAA,kVAAAC,QAAA,sbAAAC,KAAA,CAAAf,QAAA,6GAAAS,MAAA,YAAAO,SAAA,CAAAhB,QAAA,+MAAAM,YAAA"}