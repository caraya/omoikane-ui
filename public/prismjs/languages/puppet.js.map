{"version":3,"file":"puppet.js","sources":["../../src/languages/puppet.js"],"sourcesContent":["/** @type {import('../types.d.ts').LanguageProto<'puppet'>} */\nexport default {\n\tid: 'puppet',\n\tgrammar () {\n\t\tconst interpolation = [\n\t\t\t{\n\t\t\t\t// Allow for one nested level of braces inside interpolation\n\t\t\t\tpattern: /(^|[^\\\\])\\$\\{(?:[^'\"{}]|\\{[^}]*\\}|([\"'])(?:(?!\\2)[^\\\\]|\\\\[\\s\\S])*\\2)+\\}/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'short-variable': {\n\t\t\t\t\t\t// Negative look-ahead prevent wrong highlighting of functions\n\t\t\t\t\t\tpattern: /(^\\$\\{)(?!\\w+\\()(?:::)?\\w+(?:::\\w+)*/,\n\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\talias: 'variable',\n\t\t\t\t\t\tinside: {\n\t\t\t\t\t\t\t'punctuation': /::/,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t'delimiter': {\n\t\t\t\t\t\tpattern: /^\\$/,\n\t\t\t\t\t\talias: 'variable',\n\t\t\t\t\t},\n\t\t\t\t\t$rest: 'puppet',\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /(^|[^\\\\])\\$(?:::)?\\w+(?:::\\w+)*/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'variable',\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /::/,\n\t\t\t\t},\n\t\t\t},\n\t\t];\n\n\t\treturn {\n\t\t\t'heredoc': [\n\t\t\t\t// Matches the content of a quoted heredoc string (subject to interpolation)\n\t\t\t\t{\n\t\t\t\t\tpattern:\n\t\t\t\t\t\t/(@\\(\"([^\"\\r\\n\\/):]+)\"(?:\\/[nrts$uL]*)?\\).*(?:\\r?\\n|\\r))(?:.*(?:\\r?\\n|\\r(?!\\n)))*?[ \\t]*(?:\\|[ \\t]*)?(?:-[ \\t]*)?\\2/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'string',\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t// Matches the end tag\n\t\t\t\t\t\t'punctuation': /(?=\\S).*\\S(?= *$)/,\n\t\t\t\t\t\t'interpolation': interpolation,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t// Matches the content of an unquoted heredoc string (no interpolation)\n\t\t\t\t{\n\t\t\t\t\tpattern:\n\t\t\t\t\t\t/(@\\(([^\"\\r\\n\\/):]+)(?:\\/[nrts$uL]*)?\\).*(?:\\r?\\n|\\r))(?:.*(?:\\r?\\n|\\r(?!\\n)))*?[ \\t]*(?:\\|[ \\t]*)?(?:-[ \\t]*)?\\2/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tgreedy: true,\n\t\t\t\t\talias: 'string',\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t// Matches the end tag\n\t\t\t\t\t\t'punctuation': /(?=\\S).*\\S(?= *$)/,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t// Matches the start tag of heredoc strings\n\t\t\t\t{\n\t\t\t\t\tpattern: /@\\(\"?(?:[^\"\\r\\n\\/):]+)\"?(?:\\/[nrts$uL]*)?\\)/,\n\t\t\t\t\talias: 'string',\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'punctuation': {\n\t\t\t\t\t\t\tpattern: /(\\().+?(?=\\))/,\n\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t\t'multiline-comment': {\n\t\t\t\tpattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?\\*\\//,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\talias: 'comment',\n\t\t\t},\n\t\t\t'regex': {\n\t\t\t\t// Must be prefixed with the keyword \"node\" or a non-word char\n\t\t\t\tpattern:\n\t\t\t\t\t/((?:\\bnode\\s+|[~=\\(\\[\\{,]\\s*|[=+]>\\s*|^\\s*))\\/(?:[^\\/\\\\]|\\\\[\\s\\S])+\\/(?:[imx]+\\b|\\B)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t// Extended regexes must have the x flag. They can contain single-line comments.\n\t\t\t\t\t'extended-regex': {\n\t\t\t\t\t\tpattern: /^\\/(?:[^\\/\\\\]|\\\\[\\s\\S])+\\/[im]*x[im]*$/,\n\t\t\t\t\t\tinside: {\n\t\t\t\t\t\t\t'comment': /#.*/,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\t'comment': {\n\t\t\t\tpattern: /(^|[^\\\\])#.*/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t},\n\t\t\t'string': {\n\t\t\t\t// Allow for one nested level of double quotes inside interpolation\n\t\t\t\tpattern:\n\t\t\t\t\t/([\"'])(?:\\$\\{(?:[^'\"}]|([\"'])(?:(?!\\2)[^\\\\]|\\\\[\\s\\S])*\\2)+\\}|\\$(?!\\{)|(?!\\1)[^\\\\$]|\\\\[\\s\\S])*\\1/,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'double-quoted': {\n\t\t\t\t\t\tpattern: /^\"[\\s\\S]*\"$/,\n\t\t\t\t\t\tinside: {\n\t\t\t\t\t\t\t'interpolation': interpolation,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\t'variable': {\n\t\t\t\tpattern: /\\$(?:::)?\\w+(?:::\\w+)*/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /::/,\n\t\t\t\t},\n\t\t\t},\n\t\t\t'attr-name': /(?:\\b\\w+|\\*)(?=\\s*=>)/,\n\t\t\t'function': [\n\t\t\t\t{\n\t\t\t\t\tpattern: /(\\.)(?!\\d)\\w+/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t},\n\t\t\t\t/\\b(?:contain|debug|err|fail|include|info|notice|realize|require|tag|warning)\\b|\\b(?!\\d)\\w+(?=\\()/,\n\t\t\t],\n\t\t\t'number': /\\b(?:0x[a-f\\d]+|\\d+(?:\\.\\d+)?(?:e-?\\d+)?)\\b/i,\n\t\t\t'boolean': /\\b(?:false|true)\\b/,\n\t\t\t// Includes words reserved for future use\n\t\t\t'keyword':\n\t\t\t\t/\\b(?:application|attr|case|class|consumes|default|define|else|elsif|function|if|import|inherits|node|private|produces|type|undef|unless)\\b/,\n\t\t\t'datatype': {\n\t\t\t\tpattern:\n\t\t\t\t\t/\\b(?:Any|Array|Boolean|Callable|Catalogentry|Class|Collection|Data|Default|Enum|Float|Hash|Integer|NotUndef|Numeric|Optional|Pattern|Regexp|Resource|Runtime|Scalar|String|Struct|Tuple|Type|Undef|Variant)\\b/,\n\t\t\t\talias: 'symbol',\n\t\t\t},\n\t\t\t'operator':\n\t\t\t\t/=[=~>]?|![=~]?|<(?:<\\|?|[=~|-])?|>[>=]?|->?|~>|\\|>?>?|[*\\/%+?]|\\b(?:and|in|or)\\b/,\n\t\t\t'punctuation': /[\\[\\]{}().,;]|:+/,\n\t\t};\n\t},\n};\n"],"names":["puppet","id","grammar","interpolation","pattern","lookbehind","inside","alias","punctuation","delimiter","$rest","heredoc","greedy","regex","comment","string","variable","function","number","boolean","keyword","datatype","operator"],"mappings":"AACA,IAAeA,EAAA,CACdC,GAAI,SACJ,OAAAC,GACC,MAAMC,EAAgB,CACrB,CAECC,QAAS,0EACTC,YAAY,EACZC,OAAQ,CACP,iBAAkB,CAEjBF,QAAS,uCACTC,YAAY,EACZE,MAAO,WACPD,OAAQ,CACPE,YAAe,OAGjBC,UAAa,CACZL,QAAS,MACTG,MAAO,YAERG,MAAO,WAGT,CACCN,QAAS,kCACTC,YAAY,EACZE,MAAO,WACPD,OAAQ,CACPE,YAAe,QAKlB,MAAO,CACNG,QAAW,CAEV,CACCP,QACC,qHACDC,YAAY,EACZE,MAAO,SACPD,OAAQ,CAEPE,YAAe,oBACfL,cAAiBA,IAInB,CACCC,QACC,mHACDC,YAAY,EACZO,QAAQ,EACRL,MAAO,SACPD,OAAQ,CAEPE,YAAe,sBAIjB,CACCJ,QAAS,8CACTG,MAAO,SACPD,OAAQ,CACPE,YAAe,CACdJ,QAAS,gBACTC,YAAY,MAKhB,oBAAqB,CACpBD,QAAS,4BACTC,YAAY,EACZO,QAAQ,EACRL,MAAO,WAERM,MAAS,CAERT,QACC,uFACDC,YAAY,EACZO,QAAQ,EACRN,OAAQ,CAEP,iBAAkB,CACjBF,QAAS,yCACTE,OAAQ,CACPQ,QAAW,UAKfA,QAAW,CACVV,QAAS,eACTC,YAAY,EACZO,QAAQ,GAETG,OAAU,CAETX,QACC,kGACDQ,QAAQ,EACRN,OAAQ,CACP,gBAAiB,CAChBF,QAAS,cACTE,OAAQ,CACPH,cAAiBA,MAKrBa,SAAY,CACXZ,QAAS,yBACTE,OAAQ,CACPE,YAAe,OAGjB,YAAa,wBACbS,SAAY,CACX,CACCb,QAAS,gBACTC,YAAY,GAEb,oGAEDa,OAAU,+CACVC,QAAW,qBAEXC,QACC,6IACDC,SAAY,CACXjB,QACC,gNACDG,MAAO,UAERe,SACC,mFACDd,YAAe,mBAEhB"}