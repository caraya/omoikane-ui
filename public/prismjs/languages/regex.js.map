{"version":3,"file":"regex.js","sources":["../../src/languages/regex.js"],"sourcesContent":["/** @type {import('../types.d.ts').LanguageProto<'regex'>} */\nexport default {\n\tid: 'regex',\n\tgrammar () {\n\t\tconst specialEscape = {\n\t\t\tpattern: /\\\\[\\\\(){}[\\]^$+*?|.]/,\n\t\t\talias: 'escape',\n\t\t};\n\t\tconst escape =\n\t\t\t/\\\\(?:x[\\da-fA-F]{2}|u[\\da-fA-F]{4}|u\\{[\\da-fA-F]+\\}|0[0-7]{0,2}|[123][0-7]{2}|c[a-zA-Z]|.)/;\n\t\tconst charSet = {\n\t\t\tpattern: /\\.|\\\\[wsd]|\\\\p\\{[^{}]+\\}/i,\n\t\t\talias: 'class-name',\n\t\t};\n\t\tconst charSetWithoutDot = {\n\t\t\tpattern: /\\\\[wsd]|\\\\p\\{[^{}]+\\}/i,\n\t\t\talias: 'class-name',\n\t\t};\n\n\t\tconst rangeChar = '(?:[^\\\\\\\\-]|' + escape.source + ')';\n\t\tconst range = RegExp(rangeChar + '-' + rangeChar);\n\n\t\t// the name of a capturing group\n\t\tconst groupName = {\n\t\t\tpattern: /(<|')[^<>']+(?=[>']$)/,\n\t\t\tlookbehind: true,\n\t\t\talias: 'variable',\n\t\t};\n\n\t\treturn {\n\t\t\t'char-class': {\n\t\t\t\tpattern: /((?:^|[^\\\\])(?:\\\\\\\\)*)\\[(?:[^\\\\\\]]|\\\\[\\s\\S])*\\]/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'char-class-negation': {\n\t\t\t\t\t\tpattern: /(^\\[)\\^/,\n\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\talias: 'operator',\n\t\t\t\t\t},\n\t\t\t\t\t'char-class-punctuation': {\n\t\t\t\t\t\tpattern: /^\\[|\\]$/,\n\t\t\t\t\t\talias: 'punctuation',\n\t\t\t\t\t},\n\t\t\t\t\t'range': {\n\t\t\t\t\t\tpattern: range,\n\t\t\t\t\t\tinside: {\n\t\t\t\t\t\t\t'escape': escape,\n\t\t\t\t\t\t\t'range-punctuation': {\n\t\t\t\t\t\t\t\tpattern: /-/,\n\t\t\t\t\t\t\t\talias: 'operator',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t'special-escape': specialEscape,\n\t\t\t\t\t'char-set': charSetWithoutDot,\n\t\t\t\t\t'escape': escape,\n\t\t\t\t},\n\t\t\t},\n\t\t\t'special-escape': specialEscape,\n\t\t\t'char-set': charSet,\n\t\t\t'backreference': [\n\t\t\t\t{\n\t\t\t\t\t// a backreference which is not an octal escape\n\t\t\t\t\tpattern: /\\\\(?![123][0-7]{2})[1-9]/,\n\t\t\t\t\talias: 'keyword',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tpattern: /\\\\k<[^<>']+>/,\n\t\t\t\t\talias: 'keyword',\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'group-name': groupName,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t\t'anchor': {\n\t\t\t\tpattern: /[$^]|\\\\[ABbGZz]/,\n\t\t\t\talias: 'function',\n\t\t\t},\n\t\t\t'escape': escape,\n\t\t\t'group': [\n\t\t\t\t{\n\t\t\t\t\t// https://docs.oracle.com/javase/10/docs/api/java/util/regex/Pattern.html\n\t\t\t\t\t// https://docs.microsoft.com/en-us/dotnet/standard/base-types/regular-expression-language-quick-reference?view=netframework-4.7.2#grouping-constructs\n\n\t\t\t\t\t// (), (?<name>), (?'name'), (?>), (?:), (?=), (?!), (?<=), (?<!), (?is-m), (?i-m:)\n\t\t\t\t\tpattern:\n\t\t\t\t\t\t/\\((?:\\?(?:<[^<>']+>|'[^<>']+'|[>:]|<?[=!]|[idmnsuxU]+(?:-[idmnsuxU]+)?:?))?/,\n\t\t\t\t\talias: 'punctuation',\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'group-name': groupName,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tpattern: /\\)/,\n\t\t\t\t\talias: 'punctuation',\n\t\t\t\t},\n\t\t\t],\n\t\t\t'quantifier': {\n\t\t\t\tpattern: /(?:[+*?]|\\{\\d+(?:,\\d*)?\\})[?+]?/,\n\t\t\t\talias: 'number',\n\t\t\t},\n\t\t\t'alternation': {\n\t\t\t\tpattern: /\\|/,\n\t\t\t\talias: 'keyword',\n\t\t\t},\n\t\t};\n\t},\n};\n"],"names":["regex","id","grammar","specialEscape","pattern","alias","escape","rangeChar","source","groupName","lookbehind","inside","range","RegExp","backreference","anchor","group","quantifier","alternation"],"mappings":"AACA,IAAeA,EAAA,CACdC,GAAI,QACJ,OAAAC,GACC,MAAMC,EAAgB,CACrBC,QAAS,uBACTC,MAAO,UAEFC,EACL,6FAUKC,EAAY,eAAiBD,EAAOE,OAAS,IAI7CC,EAAY,CACjBL,QAAS,wBACTM,YAAY,EACZL,MAAO,YAGR,MAAO,CACN,aAAc,CACbD,QAAS,kDACTM,YAAY,EACZC,OAAQ,CACP,sBAAuB,CACtBP,QAAS,UACTM,YAAY,EACZL,MAAO,YAER,yBAA0B,CACzBD,QAAS,UACTC,MAAO,eAERO,MAAS,CACRR,QAxBUS,OAAON,EAAY,IAAMA,GAyBnCI,OAAQ,CACPL,OAAUA,EACV,oBAAqB,CACpBF,QAAS,IACTC,MAAO,cAIV,iBAAkBF,EAClB,WAxCuB,CACzBC,QAAS,yBACTC,MAAO,cAuCLC,OAAUA,IAGZ,iBAAkBH,EAClB,WAjDe,CACfC,QAAS,4BACTC,MAAO,cAgDPS,cAAiB,CAChB,CAECV,QAAS,2BACTC,MAAO,WAER,CACCD,QAAS,eACTC,MAAO,UACPM,OAAQ,CACP,aAAcF,KAIjBM,OAAU,CACTX,QAAS,kBACTC,MAAO,YAERC,OAAUA,EACVU,MAAS,CACR,CAKCZ,QACC,8EACDC,MAAO,cACPM,OAAQ,CACP,aAAcF,IAGhB,CACCL,QAAS,KACTC,MAAO,gBAGTY,WAAc,CACbb,QAAS,kCACTC,MAAO,UAERa,YAAe,CACdd,QAAS,KACTC,MAAO,WAGT"}