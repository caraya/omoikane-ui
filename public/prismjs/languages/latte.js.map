{"version":3,"file":"latte.js","sources":["../../src/languages/latte.js"],"sourcesContent":["import { embeddedIn } from '../shared/languages/templating.js';\nimport { insertBefore } from '../util/language-util.js';\nimport markup from './markup.js';\nimport php from './php.js';\n\n/** @type {import('../types.d.ts').LanguageProto<'latte'>} */\nexport default {\n\tid: 'latte',\n\trequire: [markup, php],\n\tgrammar ({ extend }) {\n\t\tconst markupLatte = extend('markup', {});\n\t\tconst tag = /** @type {GrammarToken & { inside: Grammar }} */ (markupLatte.tag);\n\t\tinsertBefore(tag.inside, 'attr-value', {\n\t\t\t'n-attr': {\n\t\t\t\tpattern: /n:[\\w-]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+))?/,\n\t\t\t\tinside: {\n\t\t\t\t\t'attr-name': {\n\t\t\t\t\t\tpattern: /^[^\\s=]+/,\n\t\t\t\t\t\talias: 'important',\n\t\t\t\t\t},\n\t\t\t\t\t'attr-value': {\n\t\t\t\t\t\tpattern: /=[\\s\\S]+/,\n\t\t\t\t\t\tinside: {\n\t\t\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t\t\t/^=/,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tpattern: /^(\\s*)[\"']|[\"']$/,\n\t\t\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t'php': {\n\t\t\t\t\t\t\t\tpattern: /\\S(?:[\\s\\S]*\\S)?/,\n\t\t\t\t\t\t\t\tinside: 'php',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\n\t\treturn {\n\t\t\t'latte-comment': {\n\t\t\t\tpattern: /\\{\\*[\\s\\S]*?\\*\\}/,\n\t\t\t\tgreedy: true,\n\t\t\t\talias: 'comment',\n\t\t\t},\n\t\t\t'latte': {\n\t\t\t\tpattern:\n\t\t\t\t\t/\\{[^'\"\\s{}*](?:[^\"'/{}]|\\/(?![*/])|(\"|')(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])*\\1|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*\\}/,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'latte-tag': {\n\t\t\t\t\t\t// https://latte.nette.org/en/tags\n\t\t\t\t\t\tpattern: /(^\\{(?:\\/(?=[a-z]))?)(?:[=_]|[a-z]\\w*\\b(?!\\())/i,\n\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\talias: 'important',\n\t\t\t\t\t},\n\t\t\t\t\t'delimiter': {\n\t\t\t\t\t\tpattern: /^\\{\\/?|\\}$/,\n\t\t\t\t\t\talias: 'punctuation',\n\t\t\t\t\t},\n\t\t\t\t\t'php': {\n\t\t\t\t\t\tpattern: /\\S(?:[\\s\\S]*\\S)?/,\n\t\t\t\t\t\talias: 'language-php',\n\t\t\t\t\t\tinside: 'php',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\t$tokenize: embeddedIn(markupLatte),\n\t\t};\n\t},\n};\n\n/**\n * @typedef {import('../types.d.ts').Grammar} Grammar\n * @typedef {import('../types.d.ts').GrammarToken} GrammarToken\n */\n"],"names":["latte","id","require","markup","php","grammar","extend","markupLatte","tag","insertBefore","inside","pattern","alias","punctuation","lookbehind","greedy","delimiter","$tokenize","embeddedIn"],"mappings":"uVAMA,IAAeA,EAAA,CACdC,GAAI,QACJC,QAAS,CAACC,EAAQC,GAClB,OAAAC,EAASC,OAAEA,IACV,MAAMC,EAAcD,EAAO,SAAU,IAC/BE,EAAyDD,EAAe,IA6B9E,OA5BAE,EAAaD,EAAIE,OAAQ,aAAc,CACtC,SAAU,CACTC,QAAS,qDACTD,OAAQ,CACP,YAAa,CACZC,QAAS,WACTC,MAAO,aAER,aAAc,CACbD,QAAS,WACTD,OAAQ,CACPG,YAAe,CACd,KACA,CACCF,QAAS,mBACTG,YAAY,IAGdV,IAAO,CACNO,QAAS,mBACTD,OAAQ,aAQP,CACN,gBAAiB,CAChBC,QAAS,mBACTI,QAAQ,EACRH,MAAO,WAERZ,MAAS,CACRW,QACC,qGACDI,QAAQ,EACRL,OAAQ,CACP,YAAa,CAEZC,QAAS,kDACTG,YAAY,EACZF,MAAO,aAERI,UAAa,CACZL,QAAS,aACTC,MAAO,eAERR,IAAO,CACNO,QAAS,mBACTC,MAAO,eACPF,OAAQ,SAIXO,UAAWC,EAAWX,GAEvB"}