{"version":3,"file":"tt2.js","sources":["../../src/languages/tt2.js"],"sourcesContent":["import { embeddedIn } from '../shared/languages/templating.js';\nimport { insertBefore } from '../util/language-util.js';\nimport clike from './clike.js';\nimport markup from './markup.js';\n\n/** @type {import('../types.d.ts').LanguageProto<'tt2'>} */\nexport default {\n\tid: 'tt2',\n\trequire: [clike, markup],\n\tgrammar ({ extend }) {\n\t\tconst tt2 = extend('clike', {\n\t\t\t'comment': /#.*|\\[%#[\\s\\S]*?%\\]/,\n\t\t\t'keyword':\n\t\t\t\t/\\b(?:BLOCK|CALL|CASE|CATCH|CLEAR|DEBUG|DEFAULT|ELSE|ELSIF|END|FILTER|FINAL|FOREACH|GET|IF|IN|INCLUDE|INSERT|LAST|MACRO|META|NEXT|PERL|PROCESS|RAWPERL|RETURN|SET|STOP|SWITCH|TAGS|THROW|TRY|UNLESS|USE|WHILE|WRAPPER)\\b/,\n\t\t\t'punctuation': /[[\\]{},()]/,\n\t\t});\n\n\t\tinsertBefore(tt2, 'number', {\n\t\t\t'operator': /=[>=]?|!=?|<=?|>=?|&&|\\|\\|?|\\b(?:and|not|or)\\b/,\n\t\t\t'variable': {\n\t\t\t\tpattern: /\\b[a-z]\\w*(?:\\s*\\.\\s*(?:\\d+|\\$?[a-z]\\w*))*\\b/i,\n\t\t\t},\n\t\t});\n\n\t\tinsertBefore(tt2, 'keyword', {\n\t\t\t'delimiter': {\n\t\t\t\tpattern: /^(?:\\[%|%%)-?|-?%\\]$/,\n\t\t\t\talias: 'punctuation',\n\t\t\t},\n\t\t});\n\n\t\tinsertBefore(tt2, 'string', {\n\t\t\t'single-quoted-string': {\n\t\t\t\tpattern: /'[^\\\\']*(?:\\\\[\\s\\S][^\\\\']*)*'/,\n\t\t\t\tgreedy: true,\n\t\t\t\talias: 'string',\n\t\t\t},\n\t\t\t'double-quoted-string': {\n\t\t\t\tpattern: /\"[^\\\\\"]*(?:\\\\[\\s\\S][^\\\\\"]*)*\"/,\n\t\t\t\tgreedy: true,\n\t\t\t\talias: 'string',\n\t\t\t\tinside: {\n\t\t\t\t\t'variable': {\n\t\t\t\t\t\tpattern: /\\$(?:[a-z]\\w*(?:\\.(?:\\d+|\\$?[a-z]\\w*))*)/i,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\n\t\t// The different types of TT2 strings \"replace\" the C-like standard string\n\t\tdelete tt2.string;\n\n\t\treturn {\n\t\t\t'tt2': {\n\t\t\t\tpattern: /\\[%[\\s\\S]+?%\\]/,\n\t\t\t\tinside: tt2,\n\t\t\t},\n\t\t\t$tokenize: embeddedIn('markup'),\n\t\t};\n\t},\n};\n"],"names":["tt2","id","require","clike","markup","grammar","extend","comment","keyword","punctuation","insertBefore","operator","variable","pattern","delimiter","alias","greedy","inside","string","$tokenize","embeddedIn"],"mappings":"yVAMA,IAAeA,EAAA,CACdC,GAAI,MACJC,QAAS,CAACC,EAAOC,GACjB,OAAAC,EAASC,OAAEA,IACV,MAAMN,EAAMM,EAAO,QAAS,CAC3BC,QAAW,sBACXC,QACC,0NACDC,YAAe,eAsChB,OAnCAC,EAAaV,EAAK,SAAU,CAC3BW,SAAY,iDACZC,SAAY,CACXC,QAAS,mDAIXH,EAAaV,EAAK,UAAW,CAC5Bc,UAAa,CACZD,QAAS,uBACTE,MAAO,iBAITL,EAAaV,EAAK,SAAU,CAC3B,uBAAwB,CACvBa,QAAS,gCACTG,QAAQ,EACRD,MAAO,UAER,uBAAwB,CACvBF,QAAS,gCACTG,QAAQ,EACRD,MAAO,SACPE,OAAQ,CACPL,SAAY,CACXC,QAAS,wDAONb,EAAIkB,OAEJ,CACNlB,IAAO,CACNa,QAAS,iBACTI,OAAQjB,GAETmB,UAAWC,EAAW,UAEvB"}