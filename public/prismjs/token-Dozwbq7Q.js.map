{"version":3,"file":"token-Dozwbq7Q.js","sources":["../src/core/classes/token.js"],"sourcesContent":["export class Token {\n\t/**\n\t * The type of the token.\n\t *\n\t * This is usually the key of a pattern in a {@link Grammar}.\n\t *\n\t * @see {@link GrammarToken}\n\t * @type {TokenName}\n\t */\n\ttype;\n\n\t/**\n\t * The strings or tokens contained by this token.\n\t *\n\t * This will be a token stream if the pattern matched also defined an `inside` grammar.\n\t *\n\t * @type {string | TokenStream}\n\t */\n\tcontent;\n\n\t/**\n\t * The alias(es) of the token.\n\t *\n\t * @see {@link GrammarToken#alias}\n\t * @type {TokenName | TokenName[] | undefined}\n\t */\n\talias;\n\n\t/**\n\t * Length of the full string this token was created from.\n\t *\n\t * Only used internally. The API does not guarantee that this field has any particular value or meaning.\n\t *\n\t * @internal\n\t * @type {number}\n\t */\n\tlength;\n\n\t/**\n\t * Creates a new token.\n\t *\n\t * @param {TokenName} type\n\t * @param {string | TokenStream} content\n\t * @param {TokenName | TokenName[]} [alias]\n\t * @param {string} [matchedStr='']\n\t */\n\tconstructor (type, content, alias, matchedStr = '') {\n\t\tthis.type = type;\n\t\tthis.content = content;\n\t\tthis.alias = alias;\n\t\tthis.length = matchedStr.length;\n\t}\n\n\t/**\n\t * Adds the given alias to the list of aliases of this token.\n\t *\n\t * @param {TokenName} alias\n\t * @returns {void}\n\t */\n\taddAlias (alias) {\n\t\tlet aliases = this.alias;\n\t\tif (!aliases) {\n\t\t\tthis.alias = aliases = [];\n\t\t}\n\t\telse if (!Array.isArray(aliases)) {\n\t\t\tthis.alias = aliases = [aliases];\n\t\t}\n\t\taliases.push(alias);\n\t}\n}\n\nexport default Token;\n\n/**\n * Returns the text content of the given token or token stream.\n *\n * @param {string | Token | TokenStream} token\n * @returns {string}\n */\nexport function getTextContent (token) {\n\tif (typeof token === 'string') {\n\t\treturn token;\n\t}\n\telse if (Array.isArray(token)) {\n\t\treturn token.map(getTextContent).join('');\n\t}\n\telse {\n\t\treturn getTextContent(token.content);\n\t}\n}\n\n/**\n * @typedef {import('../../types.d.ts').TokenName} TokenName\n * @typedef {import('../../types.d.ts').TokenStream} TokenStream\n */\n"],"names":["Token","type","content","alias","length","constructor","matchedStr","this","addAlias","aliases","Array","isArray","push","getTextContent","token","map","join"],"mappings":"AAAO,MAAMA,MASZC,KASAC,QAQAC,MAUAC,OAUA,WAAAC,CAAaJ,EAAMC,EAASC,EAAOG,EAAa,IAC/CC,KAAKN,KAAOA,EACZM,KAAKL,QAAUA,EACfK,KAAKJ,MAAQA,EACbI,KAAKH,OAASE,EAAWF,MAC3B,CAQC,QAAAI,CAAUL,GACT,IAAIM,EAAUF,KAAKJ,MACdM,EAGKC,MAAMC,QAAQF,KACvBF,KAAKJ,MAAQM,EAAU,CAACA,IAHxBF,KAAKJ,MAAQM,EAAU,GAKxBA,EAAQG,KAAKT,EACf,EAWO,SAASU,EAAgBC,GAC/B,MAAqB,iBAAVA,EACHA,EAECJ,MAAMC,QAAQG,GACfA,EAAMC,IAAIF,GAAgBG,KAAK,IAG/BH,EAAeC,EAAMZ,QAE9B"}