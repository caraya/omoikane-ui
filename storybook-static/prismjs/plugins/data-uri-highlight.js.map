{"version":3,"file":"data-uri-highlight.js","sources":["../../src/plugins/data-uri-highlight/data-uri-highlight.js"],"sourcesContent":["import prism from '../../global.js';\nimport { tokenizeStrings } from '../../shared/tokenize-strings.js';\n\n/** @type {import('../../types.d.ts').PluginProto<'data-uri-highlight'>} */\nconst Self = {\n\tid: 'data-uri-highlight',\n\toptional: 'diff-highlight',\n\teffect (Prism) {\n\t\tconst uri = {\n\t\t\t'data-uri': {\n\t\t\t\tpattern:\n\t\t\t\t\t/(['\"])data:[^,\\/]+\\/[^,]+,(?:(?!\\1)[\\s\\S]|\\\\\\1)+(?=\\1)|^data:[^,\\/]+\\/[^,]+,[\\s\\S]+$/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'language-css': {\n\t\t\t\t\t\tpattern: /(data:[^,\\/]+\\/(?:[^+,]+\\+)?css,)[\\s\\S]+/,\n\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\tinside: 'css',\n\t\t\t\t\t},\n\t\t\t\t\t'language-javascript': {\n\t\t\t\t\t\tpattern: /(data:[^,\\/]+\\/(?:[^+,]+\\+)?javascript,)[\\s\\S]+/,\n\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\tinside: 'javascript',\n\t\t\t\t\t},\n\t\t\t\t\t'language-json': {\n\t\t\t\t\t\tpattern: /(data:[^,\\/]+\\/(?:[^+,]+\\+)?json,)[\\s\\S]+/,\n\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\tinside: 'json',\n\t\t\t\t\t},\n\t\t\t\t\t'language-markup': {\n\t\t\t\t\t\tpattern: /(data:[^,\\/]+\\/(?:[^+,]+\\+)?(?:html|xml),)[\\s\\S]+/,\n\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\tinside: 'markup',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\n\t\treturn Prism.hooks.add('after-tokenize', env => {\n\t\t\ttokenizeStrings(env.tokens, code => Prism.tokenize(code, uri));\n\t\t});\n\t},\n};\n\nexport default Self;\n\nprism.pluginRegistry.add(Self);\n"],"names":["Self","id","optional","effect","Prism","uri","pattern","lookbehind","inside","hooks","add","env","tokenizeStrings","tokens","code","tokenize","prism","pluginRegistry"],"mappings":"qNAIK,MAACA,EAAO,CACZC,GAAI,qBACJC,SAAU,iBACV,MAAAC,CAAQC,GACP,MAAMC,EAAM,CACX,WAAY,CACXC,QACC,uFACDC,YAAY,EACZC,OAAQ,CACP,eAAgB,CACfF,QAAS,2CACTC,YAAY,EACZC,OAAQ,OAET,sBAAuB,CACtBF,QAAS,kDACTC,YAAY,EACZC,OAAQ,cAET,gBAAiB,CAChBF,QAAS,4CACTC,YAAY,EACZC,OAAQ,QAET,kBAAmB,CAClBF,QAAS,oDACTC,YAAY,EACZC,OAAQ,aAMZ,OAAOJ,EAAMK,MAAMC,IAAI,kBAAkBC,IACxCC,EAAgBD,EAAIE,QAAQC,GAAQV,EAAMW,SAASD,EAAMT,IAAK,GAE/D,GAKFW,EAAMC,eAAeP,IAAIV"}