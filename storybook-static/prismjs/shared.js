import{r as t}from"./prism-DU08x7FD.js";export{e as extend,a as getLanguage,i as isActive,s as setLanguage}from"./prism-DU08x7FD.js";export{i as insertBefore}from"./insert-CpDsPTVw.js";import{g as n}from"./token-Dozwbq7Q.js";import{w as o}from"./without-tokenize-Bwi0ec2C.js";import"./util-DdJteTVJ.js";import"./iterables-BnTatl6v.js";const r=/___PH\d+___/;function c(t){return`___PH${t}___`}function f(e,s,o,i){s=t.call(i,s),o=t.call(i,o);const{hostCode:f,tokenStack:p}=((t,e,s)=>{if(!e)return{hostCode:t,tokenStack:[]};const o=s.tokenize(t,e),i=r.test(t);let f="";const p=[];let a=0;for(const e of o)if("string"==typeof e)f+=e;else if(e.type.startsWith("ignore"))f+=n(e.content);else{if(i)for(;t.includes(c(a));)a++;p.push([a,e]),f+=c(a),a++}return{hostCode:f,tokenStack:p}})(e,o,i),a=s?i.tokenize(f,s):[f];return((t,e)=>{let n=0;const s=t=>{for(let o=0;o<t.length&&!(n>=e.length);o++){const r=t[o];if("string"==typeof r||"string"==typeof r.content){const[i,f]=e[n],p="string"==typeof r?r:r.content,a=c(i),u=p.indexOf(a);if(u>-1){++n;const e=p.substring(0,u),i=f,c=p.substring(u+a.length),l=[];e&&l.push(e),l.push(i),c&&l.push(...s([c])),"string"==typeof r?t.splice(o,1,...l):r.content=l}}else s(r.content)}return t};s(t)})(a,p),a}function p(t){return(e,n,s)=>f(e,t,o(n),s)}export{p as embeddedIn,f as templating};
