import{i as e}from"../insert-CpDsPTVw.js";import s from"./csharp.js";import r from"./markup.js";import"../iterables-BnTatl6v.js";import"./clike.js";import"./xml.js";import"../patterns-A_vPglum.js";var t={id:"cshtml",base:r,require:s,alias:"razor",grammar({extend:s}){function r(e,s){for(let r=0;r<s;r++)e=e.replace(/<self>/g,(()=>"(?:"+e+")"));return e.replace(/<self>/g,"[^\\s\\S]").replace(/<str>/g,'(?:@(?!")|"(?:[^\r\n\\\\"]|\\\\.)*"|@"(?:[^\\\\"]|""|\\\\[^])*"(?!")|\'(?:(?:[^\r\n\'\\\\]|\\\\.|\\\\[Uux][\\da-fA-F]{1,8})\'|(?=[^\\\\](?!\'))))').replace(/<comment>/g,"(?:/(?![/*])|//.*[\r\n]|/\\*[^*]*(?:\\*(?!/)[^*]*)*\\*/)")}const t=r("\\((?:[^()'\"@/]|<str>|<comment>|<self>)*\\)",2),a=r("\\[(?:[^\\[\\]'\"@/]|<str>|<comment>|<self>)*\\]",1),i=r("\\{(?:[^{}'\"@/]|<str>|<comment>|<self>)*\\}",2),o="@(?:await\\b\\s*)?(?:(?!await\\b)\\w+\\b|"+t+")(?:[?!]?\\.\\w+\\b|(?:"+r("<(?:[^<>'\"@/]|<comment>|<self>)*>",1)+")?"+t+"|"+a+")*(?![?!\\.(\\[]|<(?!/))",n="(?:\"[^\"@]*\"|'[^'@]*'|[^\\s'\"@>=]+(?=[\\s>])|[\"'][^\"'@]*(?:(?:@(?![\\w()])|"+o+")[^\"'@]*)+[\"'])",l="(?:\\s(?:\\s*[^\\s>/=]+(?:\\s*=\\s*<tagAttrValue>|(?=[\\s/>])))+)?".replace(/<tagAttrValue>/,n),p="(?!\\d)[^\\s>/=$<%]+"+l+"\\s*/?>",c="\\B@?(?:<([a-zA-Z][\\w:]*)"+l+"\\s*>(?:[^<]|</?(?!\\1\\b)"+p+"|"+r("<\\1"+l+"\\s*>(?:[^<]|</?(?!\\1\\b)"+p+"|<self>)*</\\1\\s*>",2)+")*</\\1\\s*>|<"+p+")",m=s("csharp",{});e(m,"string",{html:{pattern:RegExp(c),greedy:!0,inside:"cshtml"}});const g={pattern:/\S[\s\S]*/,alias:"language-csharp",inside:m},d={pattern:RegExp("(^|[^@])"+o),lookbehind:!0,greedy:!0,alias:"variable",inside:{keyword:/^@/,csharp:g}};return{$merge:{tag:{pattern:RegExp("</?"+p),inside:{"attr-value":{pattern:RegExp("=\\s*"+n)}}}},$insertBefore:{"tag/attr-value/punctuation":{value:d},prolog:{"razor-comment":{pattern:/@\*[\s\S]*?\*@/,greedy:!0,alias:"comment"},block:{pattern:RegExp("(^|[^@])@(?:"+[i,"(?:code|functions)\\s*"+i,"(?:for|foreach|lock|switch|using|while)\\s*"+t+"\\s*"+i,"do\\s*"+i+"\\s*while\\s*"+t+"(?:\\s*;)?","try\\s*"+i+"\\s*catch\\s*"+t+"\\s*"+i+"\\s*finally\\s*"+i,"if\\s*"+t+"\\s*"+i+"(?:\\s*else(?:\\s+if\\s*"+t+")?\\s*"+i+")*","helper\\s+\\w+\\s*"+t+"\\s*"+i].join("|")+")"),lookbehind:!0,greedy:!0,inside:{keyword:/^@\w*/,csharp:g}},directive:{pattern:/^([ \t]*)@(?:addTagHelper|attribute|implements|inherits|inject|layout|model|namespace|page|preservewhitespace|removeTagHelper|section|tagHelperPrefix|using)(?=\s).*/m,lookbehind:!0,greedy:!0,inside:{keyword:/^@\w+/,csharp:g}},value:d,"delegate-operator":{pattern:/(^|[^@])@(?=<)/,lookbehind:!0,alias:"operator"}}}}}};export{t as default};
