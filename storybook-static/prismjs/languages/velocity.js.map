{"version":3,"file":"velocity.js","sources":["../../src/languages/velocity.js"],"sourcesContent":["import markup from './markup.js';\n\n/** @type {import('../types.d.ts').LanguageProto<'velocity'>} */\nexport default {\n\tid: 'velocity',\n\tbase: markup,\n\tgrammar () {\n\t\tconst vel = {\n\t\t\t'variable': {\n\t\t\t\tpattern:\n\t\t\t\t\t/(^|[^\\\\](?:\\\\\\\\)*)\\$!?(?:[a-z][\\w-]*(?:\\([^)]*\\))?(?:\\.[a-z][\\w-]*(?:\\([^)]*\\))?|\\[[^\\]]+\\])*|\\{[^}]+\\})/i,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {}, // See below\n\t\t\t},\n\t\t\t'string': {\n\t\t\t\tpattern: /\"[^\"]*\"|'[^']*'/,\n\t\t\t\tgreedy: true,\n\t\t\t},\n\t\t\t'number': /\\b\\d+\\b/,\n\t\t\t'boolean': /\\b(?:false|true)\\b/,\n\t\t\t'operator': /[=!<>]=?|[+*/%-]|&&|\\|\\||\\.\\.|\\b(?:eq|g[et]|l[et]|n(?:e|ot))\\b/,\n\t\t\t'punctuation': /[(){}[\\]:,.]/,\n\t\t};\n\n\t\tvel.variable.inside = {\n\t\t\t'string': vel['string'],\n\t\t\t'function': {\n\t\t\t\tpattern: /([^\\w-])[a-z][\\w-]*(?=\\()/,\n\t\t\t\tlookbehind: true,\n\t\t\t},\n\t\t\t'number': vel['number'],\n\t\t\t'boolean': vel['boolean'],\n\t\t\t'punctuation': vel['punctuation'],\n\t\t};\n\n\t\treturn {\n\t\t\t$merge: {\n\t\t\t\t'tag': {\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'attr-value': {\n\t\t\t\t\t\t\tinside: {\n\t\t\t\t\t\t\t\t$rest: 'velocity',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\t$insertBefore: {\n\t\t\t\t'comment': {\n\t\t\t\t\t'unparsed': {\n\t\t\t\t\t\tpattern: /(^|[^\\\\])#\\[\\[[\\s\\S]*?\\]\\]#/,\n\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\tgreedy: true,\n\t\t\t\t\t\tinside: {\n\t\t\t\t\t\t\t'punctuation': /^#\\[\\[|\\]\\]#$/,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t'velocity-comment': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /(^|[^\\\\])#\\*[\\s\\S]*?\\*#/,\n\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\tgreedy: true,\n\t\t\t\t\t\t\talias: 'comment',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /(^|[^\\\\])##.*/,\n\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\tgreedy: true,\n\t\t\t\t\t\t\talias: 'comment',\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\t'directive': {\n\t\t\t\t\t\tpattern:\n\t\t\t\t\t\t\t/(^|[^\\\\](?:\\\\\\\\)*)#@?(?:[a-z][\\w-]*|\\{[a-z][\\w-]*\\})(?:\\s*\\((?:[^()]|\\([^()]*\\))*\\))?/i,\n\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\tinside: {\n\t\t\t\t\t\t\t'keyword': {\n\t\t\t\t\t\t\t\tpattern: /^#@?(?:[a-z][\\w-]*|\\{[a-z][\\w-]*\\})|\\bin\\b/,\n\t\t\t\t\t\t\t\tinside: {\n\t\t\t\t\t\t\t\t\t'punctuation': /[{}]/,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t$rest: vel,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t'variable': vel['variable'],\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t},\n};\n"],"names":["velocity","id","base","markup","grammar","vel","variable","pattern","lookbehind","inside","string","greedy","number","boolean","operator","punctuation","function","$merge","tag","$rest","$insertBefore","comment","unparsed","alias","directive","keyword"],"mappings":"4EAGA,IAAeA,EAAA,CACdC,GAAI,WACJC,KAAMC,EACN,OAAAC,GACC,MAAMC,EAAM,CACXC,SAAY,CACXC,QACC,4GACDC,YAAY,EACZC,OAAQ,CAAE,GAEXC,OAAU,CACTH,QAAS,kBACTI,QAAQ,GAETC,OAAU,UACVC,QAAW,qBACXC,SAAY,iEACZC,YAAe,gBAchB,OAXAV,EAAIC,SAASG,OAAS,CACrBC,OAAUL,EAAY,OACtBW,SAAY,CACXT,QAAS,4BACTC,YAAY,GAEbI,OAAUP,EAAY,OACtBQ,QAAWR,EAAa,QACxBU,YAAeV,EAAiB,aAG1B,CACNY,OAAQ,CACPC,IAAO,CACNT,OAAQ,CACP,aAAc,CACbA,OAAQ,CACPU,MAAO,gBAMZC,cAAe,CACdC,QAAW,CACVC,SAAY,CACXf,QAAS,8BACTC,YAAY,EACZG,QAAQ,EACRF,OAAQ,CACPM,YAAe,kBAGjB,mBAAoB,CACnB,CACCR,QAAS,0BACTC,YAAY,EACZG,QAAQ,EACRY,MAAO,WAER,CACChB,QAAS,gBACTC,YAAY,EACZG,QAAQ,EACRY,MAAO,YAGTC,UAAa,CACZjB,QACC,yFACDC,YAAY,EACZC,OAAQ,CACPgB,QAAW,CACVlB,QAAS,6CACTE,OAAQ,CACPM,YAAe,SAGjBI,MAAOd,IAGTC,SAAYD,EAAc,WAI7B"}