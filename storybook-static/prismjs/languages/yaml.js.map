{"version":3,"file":"yaml.js","sources":["../../src/languages/yaml.js"],"sourcesContent":["/** @type {import('../types.d.ts').LanguageProto<'yaml'>} */\nexport default {\n\tid: 'yaml',\n\talias: 'yml',\n\tgrammar () {\n\t\t// https://yaml.org/spec/1.2/spec.html#c-ns-anchor-property\n\t\t// https://yaml.org/spec/1.2/spec.html#c-ns-alias-node\n\t\tconst anchorOrAlias = /[*&][^\\s[\\]{},]+/;\n\t\t// https://yaml.org/spec/1.2/spec.html#c-ns-tag-property\n\t\tconst tag =\n\t\t\t/!(?:<[\\w\\-%#;/?:@&=+$,.!~*'()[\\]]+>|(?:[a-zA-Z\\d-]*!)?[\\w\\-%#;/?:@&=+$.~*'()]+)?/;\n\t\t// https://yaml.org/spec/1.2/spec.html#c-ns-properties(n,c)\n\t\tconst properties =\n\t\t\t'(?:' +\n\t\t\ttag.source +\n\t\t\t'(?:[ \\t]+' +\n\t\t\tanchorOrAlias.source +\n\t\t\t')?|' +\n\t\t\tanchorOrAlias.source +\n\t\t\t'(?:[ \\t]+' +\n\t\t\ttag.source +\n\t\t\t')?)';\n\t\t// https://yaml.org/spec/1.2/spec.html#ns-plain(n,c)\n\t\t// This is a simplified version that doesn't support \"#\" and multiline keys\n\t\t// All these long scarry character classes are simplified versions of YAML's characters\n\t\tconst plainKey =\n\t\t\t/(?:[^\\s\\x00-\\x08\\x0e-\\x1f!\"#%&'*,\\-:>?@[\\]`{|}\\x7f-\\x84\\x86-\\x9f\\ud800-\\udfff\\ufffe\\uffff]|[?:-]<PLAIN>)(?:[ \\t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(\n\t\t\t\t/<PLAIN>/g,\n\t\t\t\t() =>\n\t\t\t\t\t/[^\\s\\x00-\\x08\\x0e-\\x1f,[\\]{}\\x7f-\\x84\\x86-\\x9f\\ud800-\\udfff\\ufffe\\uffff]/\n\t\t\t\t\t\t.source\n\t\t\t);\n\t\tconst string = /\"(?:[^\"\\\\\\r\\n]|\\\\.)*\"|'(?:[^'\\\\\\r\\n]|\\\\.)*'/.source;\n\n\t\t/**\n\t\t * @param {string} value\n\t\t * @param {string} [flags]\n\t\t * @returns {RegExp}\n\t\t */\n\t\tfunction createValuePattern (value, flags) {\n\t\t\tflags = (flags || '').replace(/m/g, '') + 'm'; // add m flag\n\t\t\tconst pattern =\n\t\t\t\t/([:\\-,[{]\\s*(?:\\s<<prop>>[ \\t]+)?)(?:<<value>>)(?=[ \\t]*(?:$|,|\\]|\\}|(?:[\\r\\n]\\s*)?#))/.source\n\t\t\t\t\t.replace(/<<prop>>/g, () => properties)\n\t\t\t\t\t.replace(/<<value>>/g, () => value);\n\t\t\treturn RegExp(pattern, flags);\n\t\t}\n\n\t\treturn {\n\t\t\t'scalar': {\n\t\t\t\tpattern: RegExp(\n\t\t\t\t\t/([\\-:]\\s*(?:\\s<<prop>>[ \\t]+)?[|>])[ \\t]*(?:((?:\\r?\\n|\\r)[ \\t]+)\\S[^\\r\\n]*(?:\\2[^\\r\\n]+)*)/.source.replace(\n\t\t\t\t\t\t/<<prop>>/g,\n\t\t\t\t\t\t() => properties\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'string',\n\t\t\t},\n\t\t\t'comment': /#.*/,\n\t\t\t'key': {\n\t\t\t\tpattern: RegExp(\n\t\t\t\t\t/((?:^|[:\\-,[{\\r\\n?])[ \\t]*(?:<<prop>>[ \\t]+)?)<<key>>(?=\\s*:\\s)/.source\n\t\t\t\t\t\t.replace(/<<prop>>/g, () => properties)\n\t\t\t\t\t\t.replace(/<<key>>/g, () => '(?:' + plainKey + '|' + string + ')')\n\t\t\t\t),\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\talias: 'atrule',\n\t\t\t},\n\t\t\t'directive': {\n\t\t\t\tpattern: /(^[ \\t]*)%.+/m,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'important',\n\t\t\t},\n\t\t\t'datetime': {\n\t\t\t\tpattern: createValuePattern(\n\t\t\t\t\t/\\d{4}-\\d\\d?-\\d\\d?(?:[tT]|[ \\t]+)\\d\\d?:\\d{2}:\\d{2}(?:\\.\\d*)?(?:[ \\t]*(?:Z|[-+]\\d\\d?(?::\\d{2})?))?|\\d{4}-\\d{2}-\\d{2}|\\d\\d?:\\d{2}(?::\\d{2}(?:\\.\\d*)?)?/\n\t\t\t\t\t\t.source\n\t\t\t\t),\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'number',\n\t\t\t},\n\t\t\t'boolean': {\n\t\t\t\tpattern: createValuePattern(/false|true/.source, 'i'),\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'important',\n\t\t\t},\n\t\t\t'null': {\n\t\t\t\tpattern: createValuePattern(/null|~/.source, 'i'),\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'important',\n\t\t\t},\n\t\t\t'string': {\n\t\t\t\tpattern: createValuePattern(string),\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t},\n\t\t\t'number': {\n\t\t\t\tpattern: createValuePattern(\n\t\t\t\t\t/[+-]?(?:0x[\\da-f]+|0o[0-7]+|(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?|\\.inf|\\.nan)/\n\t\t\t\t\t\t.source,\n\t\t\t\t\t'i'\n\t\t\t\t),\n\t\t\t\tlookbehind: true,\n\t\t\t},\n\t\t\t'tag': tag,\n\t\t\t'important': anchorOrAlias,\n\t\t\t'punctuation': /---|[:[\\]{}\\-,|>?]|\\.\\.\\./,\n\t\t};\n\t},\n};\n"],"names":["yaml","id","alias","grammar","anchorOrAlias","tag","properties","source","plainKey","replace","string","createValuePattern","value","flags","pattern","RegExp","scalar","lookbehind","comment","key","greedy","directive","datetime","boolean","null","number","important","punctuation"],"mappings":"AACA,IAAeA,EAAA,CACdC,GAAI,OACJC,MAAO,MACP,OAAAC,GAGC,MAAMC,EAAgB,mBAEhBC,EACL,mFAEKC,EACL,MACAD,EAAIE,OACJ,YACAH,EAAcG,OACd,MACAH,EAAcG,OACd,YACAF,EAAIE,OACJ,MAIKC,EACL,kKAAyJC,QACxJ,YACA,IACC,2FAGGC,EAAS,yDAOf,SAASC,EAAoBC,EAAOC,GACnCA,GAASA,GAAS,IAAIJ,QAAQ,KAAM,IAAM,IAC1C,MAAMK,EACL,+FACEL,QAAQ,aAAa,IAAMH,IAC3BG,QAAQ,cAAc,IAAMG,IAC/B,OAAOG,OAAOD,EAASD,EAC1B,CAEE,MAAO,CACNG,OAAU,CACTF,QAASC,OACR,kGAAoGN,QACnG,aACA,IAAMH,KAGRW,YAAY,EACZf,MAAO,UAERgB,QAAW,MACXC,IAAO,CACNL,QAASC,OACR,qEACEN,QAAQ,aAAa,IAAMH,IAC3BG,QAAQ,YAAY,IAAM,MAAQD,EAAW,IAAME,EAAS,OAE/DO,YAAY,EACZG,QAAQ,EACRlB,MAAO,UAERmB,UAAa,CACZP,QAAS,gBACTG,YAAY,EACZf,MAAO,aAERoB,SAAY,CACXR,QAASH,EACR,8KAGDM,YAAY,EACZf,MAAO,UAERqB,QAAW,CACVT,QAASH,EAAmB,aAAqB,KACjDM,YAAY,EACZf,MAAO,aAERsB,KAAQ,CACPV,QAASH,EAAmB,SAAiB,KAC7CM,YAAY,EACZf,MAAO,aAERQ,OAAU,CACTI,QAASH,EAAmBD,GAC5BO,YAAY,EACZG,QAAQ,GAETK,OAAU,CACTX,QAASH,EACR,0FAEA,KAEDM,YAAY,GAEbZ,IAAOA,EACPqB,UAAatB,EACbuB,YAAe,4BAEhB"}