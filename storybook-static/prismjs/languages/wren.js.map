{"version":3,"file":"wren.js","sources":["../../src/languages/wren.js"],"sourcesContent":["// https://wren.io/\n\n/** @type {import('../types.d.ts').LanguageProto<'wren'>} */\nexport default {\n\tid: 'wren',\n\tgrammar: {\n\t\t// Multiline comments in Wren can have nested multiline comments\n\t\t// Comments: // and /* */\n\t\t'comment': [\n\t\t\t{\n\t\t\t\t// support 3 levels of nesting\n\t\t\t\t// regex: \\/\\*(?:[^*/]|\\*(?!\\/)|\\/(?!\\*)|<self>)*\\*\\/\n\t\t\t\tpattern:\n\t\t\t\t\t/\\/\\*(?:[^*/]|\\*(?!\\/)|\\/(?!\\*)|\\/\\*(?:[^*/]|\\*(?!\\/)|\\/(?!\\*)|\\/\\*(?:[^*/]|\\*(?!\\/)|\\/(?!\\*))*\\*\\/)*\\*\\/)*\\*\\//,\n\t\t\t\tgreedy: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /(^|[^\\\\:])\\/\\/.*/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t},\n\t\t],\n\n\t\t// Triple quoted strings are multiline but cannot have interpolation (raw strings)\n\t\t// Based on python.js\n\t\t'triple-quoted-string': {\n\t\t\tpattern: /\"\"\"[\\s\\S]*?\"\"\"/,\n\t\t\tgreedy: true,\n\t\t\talias: 'string',\n\t\t},\n\n\t\t// A single quote string is multiline and can have interpolation (similar to JS backticks ``)\n\t\t'string-literal': {\n\t\t\tpattern:\n\t\t\t\t/(^|[^\\\\\"])\"(?:[^\\\\\"%]|\\\\[\\s\\S]|%(?!\\()|%\\((?:[^()]|\\((?:[^()]|\\([^)]*\\))*\\))*\\))*\"/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'interpolation': {\n\t\t\t\t\t// \"%(interpolation)\"\n\t\t\t\t\tpattern: /((?:^|[^\\\\])(?:\\\\{2})*)%\\((?:[^()]|\\((?:[^()]|\\([^)]*\\))*\\))*\\)/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'expression': {\n\t\t\t\t\t\t\tpattern: /^(%\\()[\\s\\S]+(?=\\)$)/,\n\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\tinside: 'wren',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'interpolation-punctuation': {\n\t\t\t\t\t\t\tpattern: /^%\\(|\\)$/,\n\t\t\t\t\t\t\talias: 'punctuation',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t'string': /[\\s\\S]+/,\n\t\t\t},\n\t\t},\n\n\t\t// #!/usr/bin/env wren on the first line\n\t\t'hashbang': {\n\t\t\tpattern: /^#!\\/.+/,\n\t\t\tgreedy: true,\n\t\t\talias: 'comment',\n\t\t},\n\n\t\t// Attributes are special keywords to add meta data to classes\n\t\t'attribute': {\n\t\t\t// #! attributes are stored in class properties\n\t\t\t// #!myvar = true\n\t\t\t// #attributes are not stored and dismissed at compilation\n\t\t\tpattern: /#!?[ \\t\\u3000]*\\w+/,\n\t\t\talias: 'keyword',\n\t\t},\n\t\t'class-name': [\n\t\t\t{\n\t\t\t\t// class definition\n\t\t\t\t// class Meta {}\n\t\t\t\tpattern: /(\\bclass\\s+)\\w+/,\n\t\t\t\tlookbehind: true,\n\t\t\t},\n\t\t\t// A class must always start with an uppercase.\n\t\t\t// File.read\n\t\t\t/\\b[A-Z][a-z\\d_]*\\b/,\n\t\t],\n\n\t\t// A constant can be a variable, class, property or method. Just named in all uppercase letters\n\t\t'constant': /\\b[A-Z][A-Z\\d_]*\\b/,\n\n\t\t'null': {\n\t\t\tpattern: /\\bnull\\b/,\n\t\t\talias: 'keyword',\n\t\t},\n\t\t'keyword':\n\t\t\t/\\b(?:as|break|class|construct|continue|else|for|foreign|if|import|in|is|return|static|super|this|var|while)\\b/,\n\t\t'boolean': /\\b(?:false|true)\\b/,\n\t\t'number': /\\b(?:0x[\\da-f]+|\\d+(?:\\.\\d+)?(?:e[+-]?\\d+)?)\\b/i,\n\n\t\t// Functions can be Class.method()\n\t\t'function': /\\b[a-z_]\\w*(?=\\s*[({])/i,\n\n\t\t'operator': /<<|>>|[=!<>]=?|&&|\\|\\||[-+*/%~^&|?:]|\\.{2,3}/,\n\t\t'punctuation': /[\\[\\](){}.,;]/,\n\t},\n};\n"],"names":["wren","id","grammar","comment","pattern","greedy","lookbehind","alias","inside","interpolation","expression","string","hashbang","attribute","constant","null","keyword","boolean","number","function","operator","punctuation"],"mappings":"AAGA,IAAeA,EAAA,CACdC,GAAI,OACLC,QAAA,KAAA,CAAAC,QAAA,CAAA,CAAAC,QAAA,iHAAAC,QAAA,GAAA,CAAAD,QAAA,mBAAAE,YAAA,EAAAD,QAAA,IAAA,uBAAA,CAAAD,QAAA,iBAAAC,QAAA,EAAAE,MAAA,UAAA,iBAAA,CAAAH,QAAA,qFAAAE,YAAA,EAAAD,QAAA,EAAAG,OAAA,CAAAC,cAAA,CAAAL,QAAA,kEAAAE,YAAA,EAAAE,OAAA,CAAAE,WAAA,CAAAN,QAAA,uBAAAE,YAAA,EAAAE,OAAA,QAAA,4BAAA,CAAAJ,QAAA,WAAAG,MAAA,iBAAAI,OAAA,YAAAC,SAAA,CAAAR,QAAA,UAAAC,QAAA,EAAAE,MAAA,WAAAM,UAAA,CAAAT,QAAA,qBAAAG,MAAA,WAAA,aAAA,CAAA,CAAAH,QAAA,kBAAAE,YAAA,GAAA,sBAAAQ,SAAA,qBAAAC,KAAA,CAAAX,QAAA,WAAAG,MAAA,WAAAS,QAAA,gHAAAC,QAAA,qBAAAC,OAAA,kDAAAC,SAAA,0BAAAC,SAAA,+CAAAC,YAAA"}