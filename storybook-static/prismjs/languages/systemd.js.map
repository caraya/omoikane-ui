{"version":3,"file":"systemd.js","sources":["../../src/languages/systemd.js"],"sourcesContent":["/** @type {import('../types.d.ts').LanguageProto<'systemd'>} */\nexport default {\n\tid: 'systemd',\n\tgrammar () {\n\t\t// https://www.freedesktop.org/software/systemd/man/systemd.syntax.html\n\n\t\tconst comment = {\n\t\t\tpattern: /^[;#].*/m,\n\t\t\tgreedy: true,\n\t\t};\n\n\t\tconst quotesSource = /\"(?:[^\\r\\n\"\\\\]|\\\\(?:[^\\r]|\\r\\n?))*\"(?!\\S)/.source;\n\n\t\treturn {\n\t\t\t'comment': comment,\n\n\t\t\t'section': {\n\t\t\t\tpattern: /^\\[[^\\n\\r\\[\\]]*\\](?=[ \\t]*$)/m,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^\\[|\\]$/,\n\t\t\t\t\t'section-name': {\n\t\t\t\t\t\tpattern: /[\\s\\S]+/,\n\t\t\t\t\t\talias: 'selector',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\n\t\t\t'key': {\n\t\t\t\tpattern: /^[^\\s=]+(?=[ \\t]*=)/m,\n\t\t\t\tgreedy: true,\n\t\t\t\talias: 'attr-name',\n\t\t\t},\n\t\t\t'value': {\n\t\t\t\t// This pattern is quite complex because of two properties:\n\t\t\t\t//  1) Quotes (strings) must be preceded by a space. Since we can't use lookbehinds, we have to \"resolve\"\n\t\t\t\t//     the lookbehind. You will see this in the main loop where spaces are handled separately.\n\t\t\t\t//  2) Line continuations.\n\t\t\t\t//     After line continuations, empty lines and comments are ignored so we have to consume them.\n\t\t\t\tpattern: RegExp(\n\t\t\t\t\t/(=[ \\t]*(?!\\s))/.source +\n\t\t\t\t\t\t// the value either starts with quotes or not\n\t\t\t\t\t\t'(?:' +\n\t\t\t\t\t\tquotesSource +\n\t\t\t\t\t\t'|(?=[^\"\\r\\n]))' +\n\t\t\t\t\t\t// main loop\n\t\t\t\t\t\t'(?:' +\n\t\t\t\t\t\t(/[^\\s\\\\]/.source +\n\t\t\t\t\t\t\t// handle spaces separately because of quotes\n\t\t\t\t\t\t\t'|' +\n\t\t\t\t\t\t\t'[ \\t]+(?:(?![ \\t\"])|' +\n\t\t\t\t\t\t\tquotesSource +\n\t\t\t\t\t\t\t')' +\n\t\t\t\t\t\t\t// line continuation\n\t\t\t\t\t\t\t'|' +\n\t\t\t\t\t\t\t/\\\\[\\r\\n]+(?:[#;].*[\\r\\n]+)*(?![#;])/.source) +\n\t\t\t\t\t\t')*'\n\t\t\t\t),\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\talias: 'attr-value',\n\t\t\t\tinside: {\n\t\t\t\t\t'comment': comment,\n\t\t\t\t\t'quoted': {\n\t\t\t\t\t\tpattern: RegExp(/(^|\\s)/.source + quotesSource),\n\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\tgreedy: true,\n\t\t\t\t\t},\n\t\t\t\t\t'punctuation': /\\\\$/m,\n\n\t\t\t\t\t'boolean': {\n\t\t\t\t\t\tpattern: /^(?:false|no|off|on|true|yes)$/,\n\t\t\t\t\t\tgreedy: true,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\n\t\t\t'punctuation': /=/,\n\t\t};\n\t},\n};\n"],"names":["systemd","id","grammar","comment","pattern","greedy","quotesSource","section","inside","punctuation","alias","key","value","RegExp","lookbehind","quoted","boolean"],"mappings":"AACA,IAAeA,EAAA,CACdC,GAAI,UACJ,OAAAC,GAGC,MAAMC,EAAU,CACfC,QAAS,WACTC,QAAQ,GAGHC,EAAe,iDAErB,MAAO,CACNH,QAAWA,EAEXI,QAAW,CACVH,QAAS,gCACTC,QAAQ,EACRG,OAAQ,CACPC,YAAe,UACf,eAAgB,CACfL,QAAS,UACTM,MAAO,cAKVC,IAAO,CACNP,QAAS,uBACTC,QAAQ,EACRK,MAAO,aAERE,MAAS,CAMRR,QAASS,OACR,sBAGCP,EAHD,mDAWEA,EAXF,6CAkBDQ,YAAY,EACZT,QAAQ,EACRK,MAAO,aACPF,OAAQ,CACPL,QAAWA,EACXY,OAAU,CACTX,QAASS,OAAO,UAAkBP,GAClCQ,YAAY,EACZT,QAAQ,GAETI,YAAe,OAEfO,QAAW,CACVZ,QAAS,iCACTC,QAAQ,KAKXI,YAAe,IAEhB"}