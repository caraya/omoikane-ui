{"version":3,"file":"soy.js","sources":["../../src/languages/soy.js"],"sourcesContent":["import { embeddedIn } from '../shared/languages/templating.js';\nimport markup from './markup.js';\n\n/** @type {import('../types.d.ts').LanguageProto<'soy'>} */\nexport default {\n\tid: 'soy',\n\trequire: markup,\n\tgrammar () {\n\t\tconst stringPattern = /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/;\n\t\tconst numberPattern = /\\b\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?\\b|\\b0x[\\dA-F]+\\b/;\n\n\t\treturn {\n\t\t\t'ignore-literal': {\n\t\t\t\tpattern: /(\\{literal\\})[\\s\\S]*?(?=\\{\\/literal\\})/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t},\n\t\t\t'soy': {\n\t\t\t\tpattern: /\\{\\{.+?\\}\\}|\\{.+?\\}|\\s\\/\\/.*|\\/\\*[\\s\\S]*?\\*\\//,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'comment': [\n\t\t\t\t\t\t/\\/\\*[\\s\\S]*?\\*\\//,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /(\\s)\\/\\/.*/,\n\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\tgreedy: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\t'command-arg': {\n\t\t\t\t\t\tpattern:\n\t\t\t\t\t\t\t/(\\{+\\/?\\s*(?:alias|call|delcall|delpackage|deltemplate|namespace|template)\\s+)\\.?[\\w.]+/,\n\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\talias: 'string',\n\t\t\t\t\t\tinside: {\n\t\t\t\t\t\t\t'punctuation': /\\./,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t'parameter': {\n\t\t\t\t\t\tpattern: /(\\{+\\/?\\s*@?param\\??\\s+)\\.?[\\w.]+/,\n\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\talias: 'variable',\n\t\t\t\t\t},\n\t\t\t\t\t'keyword': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern:\n\t\t\t\t\t\t\t\t/(\\{+\\/?[^\\S\\r\\n]*)(?:\\\\[nrt]|alias|call|case|css|default|delcall|delpackage|deltemplate|else(?:if)?|fallbackmsg|for(?:each)?|if(?:empty)?|lb|let|literal|msg|namespace|nil|@?param\\??|rb|sp|switch|template|xid)/,\n\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t/\\b(?:any|as|attributes|bool|css|float|html|in|int|js|list|map|null|number|string|uri)\\b/,\n\t\t\t\t\t],\n\t\t\t\t\t'delimiter': {\n\t\t\t\t\t\tpattern: /^\\{+\\/?|\\/?\\}+$/,\n\t\t\t\t\t\talias: 'punctuation',\n\t\t\t\t\t},\n\t\t\t\t\t'property': /\\w+(?==)/,\n\t\t\t\t\t'variable': {\n\t\t\t\t\t\tpattern: /\\$[^\\W\\d]\\w*(?:\\??(?:\\.\\w+|\\[[^\\]]+\\]))*/,\n\t\t\t\t\t\tinside: {\n\t\t\t\t\t\t\t'string': {\n\t\t\t\t\t\t\t\tpattern: stringPattern,\n\t\t\t\t\t\t\t\tgreedy: true,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t'number': numberPattern,\n\t\t\t\t\t\t\t'punctuation': /[\\[\\].?]/,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t'string': {\n\t\t\t\t\t\tpattern: stringPattern,\n\t\t\t\t\t\tgreedy: true,\n\t\t\t\t\t},\n\t\t\t\t\t'function': [\n\t\t\t\t\t\t/\\w+(?=\\()/,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /(\\|[^\\S\\r\\n]*)\\w+/,\n\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\t'boolean': /\\b(?:false|true)\\b/,\n\t\t\t\t\t'number': numberPattern,\n\t\t\t\t\t'operator': /\\?:?|<=?|>=?|==?|!=|[+*/%-]|\\b(?:and|not|or)\\b/,\n\t\t\t\t\t'punctuation': /[{}()\\[\\]|.,:]/,\n\t\t\t\t},\n\t\t\t},\n\t\t\t$tokenize: embeddedIn('markup'),\n\t\t};\n\t},\n};\n"],"names":["soy","id","require","markup","grammar","stringPattern","numberPattern","pattern","lookbehind","greedy","inside","comment","alias","punctuation","parameter","keyword","delimiter","property","variable","string","number","function","boolean","operator","$tokenize","embeddedIn"],"mappings":"mTAIA,IAAeA,EAAA,CACdC,GAAI,MACJC,QAASC,EACT,OAAAC,GACC,MAAMC,EAAgB,iDAChBC,EAAgB,oDAEtB,MAAO,CACN,iBAAkB,CACjBC,QAAS,yCACTC,YAAY,EACZC,QAAQ,GAETT,IAAO,CACNO,QAAS,gDACTE,QAAQ,EACRC,OAAQ,CACPC,QAAW,CACV,mBACA,CACCJ,QAAS,aACTC,YAAY,EACZC,QAAQ,IAGV,cAAe,CACdF,QACC,0FACDC,YAAY,EACZI,MAAO,SACPF,OAAQ,CACPG,YAAe,OAGjBC,UAAa,CACZP,QAAS,oCACTC,YAAY,EACZI,MAAO,YAERG,QAAW,CACV,CACCR,QACC,mNACDC,YAAY,GAEb,2FAEDQ,UAAa,CACZT,QAAS,kBACTK,MAAO,eAERK,SAAY,WACZC,SAAY,CACXX,QAAS,2CACTG,OAAQ,CACPS,OAAU,CACTZ,QAASF,EACTI,QAAQ,GAETW,OAAUd,EACVO,YAAe,aAGjBM,OAAU,CACTZ,QAASF,EACTI,QAAQ,GAETY,SAAY,CACX,YACA,CACCd,QAAS,oBACTC,YAAY,IAGdc,QAAW,qBACXF,OAAUd,EACViB,SAAY,iDACZV,YAAe,mBAGjBW,UAAWC,EAAW,UAEvB"}