{"version":3,"file":"web-idl.js","sources":["../../src/languages/web-idl.js"],"sourcesContent":["/** @type {import('../types.d.ts').LanguageProto<'web-idl'>} */\nexport default {\n\tid: 'web-idl',\n\talias: 'webidl',\n\tgrammar () {\n\t\tconst id = /(?:\\B-|\\b_|\\b)[A-Za-z][\\w-]*(?![\\w-])/.source;\n\t\tconst type =\n\t\t\t'(?:' +\n\t\t\t/\\b(?:unsigned\\s+)?long\\s+long(?![\\w-])/.source +\n\t\t\t'|' +\n\t\t\t/\\b(?:unrestricted|unsigned)\\s+[a-z]+(?![\\w-])/.source +\n\t\t\t'|' +\n\t\t\t/(?!(?:unrestricted|unsigned)\\b)/.source +\n\t\t\tid +\n\t\t\t/(?:\\s*<(?:[^<>]|<[^<>]*>)*>)?/.source +\n\t\t\t')' +\n\t\t\t/(?:\\s*\\?)?/.source;\n\n\t\t/** @type {import('../types.d.ts').Grammar} */\n\t\tconst typeInside = {};\n\n\t\tconst webIdl = {\n\t\t\t'comment': {\n\t\t\t\tpattern: /\\/\\/.*|\\/\\*[\\s\\S]*?\\*\\//,\n\t\t\t\tgreedy: true,\n\t\t\t},\n\t\t\t'string': {\n\t\t\t\tpattern: /\"[^\"]*\"/,\n\t\t\t\tgreedy: true,\n\t\t\t},\n\n\t\t\t'namespace': {\n\t\t\t\tpattern: RegExp(/(\\bnamespace\\s+)/.source + id),\n\t\t\t\tlookbehind: true,\n\t\t\t},\n\t\t\t'class-name': [\n\t\t\t\t{\n\t\t\t\t\tpattern: /(^|[^\\w-])(?:iterable|maplike|setlike)\\s*<(?:[^<>]|<[^<>]*>)*>/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tinside: typeInside,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tpattern: RegExp(\n\t\t\t\t\t\t/(\\b(?:attribute|const|deleter|getter|optional|setter)\\s+)/.source + type\n\t\t\t\t\t),\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tinside: typeInside,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t// callback return type\n\t\t\t\t\tpattern: RegExp(\n\t\t\t\t\t\t'(' + /\\bcallback\\s+/.source + id + /\\s*=\\s*/.source + ')' + type\n\t\t\t\t\t),\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tinside: typeInside,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t// typedef\n\t\t\t\t\tpattern: RegExp(/(\\btypedef\\b\\s*)/.source + type),\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tinside: typeInside,\n\t\t\t\t},\n\n\t\t\t\t{\n\t\t\t\t\tpattern: RegExp(\n\t\t\t\t\t\t/(\\b(?:callback|dictionary|enum|interface(?:\\s+mixin)?)\\s+)(?!(?:interface|mixin)\\b)/\n\t\t\t\t\t\t\t.source + id\n\t\t\t\t\t),\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t// inheritance\n\t\t\t\t\tpattern: RegExp(/(:\\s*)/.source + id),\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t},\n\n\t\t\t\t// includes and implements\n\t\t\t\tRegExp(id + /(?=\\s+(?:implements|includes)\\b)/.source),\n\t\t\t\t{\n\t\t\t\t\tpattern: RegExp(/(\\b(?:implements|includes)\\s+)/.source + id),\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t},\n\n\t\t\t\t{\n\t\t\t\t\t// function return type, parameter types, and dictionary members\n\t\t\t\t\tpattern: RegExp(\n\t\t\t\t\t\ttype + '(?=' + /\\s*(?:\\.{3}\\s*)?/.source + id + /\\s*[(),;=]/.source + ')'\n\t\t\t\t\t),\n\t\t\t\t\tinside: typeInside,\n\t\t\t\t},\n\t\t\t],\n\n\t\t\t'builtin':\n\t\t\t\t/\\b(?:ArrayBuffer|BigInt64Array|BigUint64Array|ByteString|DOMString|DataView|Float32Array|Float64Array|FrozenArray|Int16Array|Int32Array|Int8Array|ObservableArray|Promise|USVString|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray)\\b/,\n\t\t\t'keyword': [\n\t\t\t\t/\\b(?:async|attribute|callback|const|constructor|deleter|dictionary|enum|getter|implements|includes|inherit|interface|mixin|namespace|null|optional|or|partial|readonly|required|setter|static|stringifier|typedef|unrestricted)\\b/,\n\t\t\t\t// type keywords\n\t\t\t\t/\\b(?:any|bigint|boolean|byte|double|float|iterable|long|maplike|object|octet|record|sequence|setlike|short|symbol|undefined|unsigned|void)\\b/,\n\t\t\t],\n\t\t\t'boolean': /\\b(?:false|true)\\b/,\n\n\t\t\t'number': {\n\t\t\t\tpattern:\n\t\t\t\t\t/(^|[^\\w-])-?(?:0x[0-9a-f]+|(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?|NaN|Infinity)(?![\\w-])/i,\n\t\t\t\tlookbehind: true,\n\t\t\t},\n\t\t\t'operator': /\\.{3}|[=:?<>-]/,\n\t\t\t'punctuation': /[(){}[\\].,;]/,\n\t\t};\n\n\t\tObject.assign(typeInside, webIdl);\n\t\tdelete typeInside['class-name'];\n\n\t\treturn webIdl;\n\t},\n};\n"],"names":["webIdl","id","alias","grammar","type","typeInside","comment","pattern","greedy","string","namespace","RegExp","lookbehind","inside","builtin","keyword","boolean","number","operator","punctuation","Object","assign"],"mappings":"AACA,IAAeA,EAAA,CACdC,GAAI,UACJC,MAAO,SACP,OAAAC,GACC,MAAMF,EAAK,6CACLG,EACL,kIAMAH,EANA,8CAYKI,EAAa,CAAE,EAEfL,EAAS,CACdM,QAAW,CACVC,QAAS,0BACTC,QAAQ,GAETC,OAAU,CACTF,QAAS,UACTC,QAAQ,GAGTE,UAAa,CACZH,QAASI,OAAO,qBAA4BV,GAC5CW,YAAY,GAEb,aAAc,CACb,CACCL,QAAS,iEACTK,YAAY,EACZC,OAAQR,GAET,CACCE,QAASI,OACR,8DAAqEP,GAEtEQ,YAAY,EACZC,OAAQR,GAET,CAECE,QAASI,OACR,mBAA+BV,EAA/B,aAA6DG,GAE9DQ,YAAY,EACZC,OAAQR,GAET,CAECE,QAASI,OAAO,sBAA4BP,GAC5CQ,YAAY,EACZC,OAAQR,GAGT,CACCE,QAASI,OACR,0FACWV,GAEZW,YAAY,GAEb,CAECL,QAASI,OAAO,UAAkBV,GAClCW,YAAY,GAIbD,OAAOV,EAAK,sCACZ,CACCM,QAASI,OAAO,mCAA0CV,GAC1DW,YAAY,GAGb,CAECL,QAASI,OACRP,2BAA2CH,EAA3CG,gBAEDS,OAAQR,IAIVS,QACC,8OACDC,QAAW,CACV,oOAEA,gJAEDC,QAAW,qBAEXC,OAAU,CACTV,QACC,2FACDK,YAAY,GAEbM,SAAY,iBACZC,YAAe,gBAMhB,OAHAC,OAAOC,OAAOhB,EAAYL,UACnBK,EAAW,cAEXL,CACP"}