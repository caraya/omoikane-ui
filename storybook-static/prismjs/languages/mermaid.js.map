{"version":3,"file":"mermaid.js","sources":["../../src/languages/mermaid.js"],"sourcesContent":["/** @type {import('../types.d.ts').LanguageProto<'mermaid'>} */\nexport default {\n\tid: 'mermaid',\n\tgrammar: {\n\t\t'comment': {\n\t\t\tpattern: /%%.*/,\n\t\t\tgreedy: true,\n\t\t},\n\n\t\t'style': {\n\t\t\tpattern: /^([ \\t]*(?:classDef|linkStyle|style)[ \\t]+[\\w$-]+[ \\t]+)\\w.*[^\\s;]/m,\n\t\t\tlookbehind: true,\n\t\t\tinside: {\n\t\t\t\t'property': /\\b\\w[\\w-]*(?=[ \\t]*:)/,\n\t\t\t\t'operator': /:/,\n\t\t\t\t'punctuation': /,/,\n\t\t\t},\n\t\t},\n\n\t\t'inter-arrow-label': {\n\t\t\tpattern:\n\t\t\t\t/([^<>ox.=-])(?:-[-.]|==)(?![<>ox.=-])[ \\t]*(?:\"[^\"\\r\\n]*\"|[^\\s\".=-](?:[^\\r\\n.=-]*[^\\s.=-])?)[ \\t]*(?:\\.+->?|--+[->]|==+[=>])(?![<>ox.=-])/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'arrow': {\n\t\t\t\t\tpattern: /(?:\\.+->?|--+[->]|==+[=>])$/,\n\t\t\t\t\talias: 'operator',\n\t\t\t\t},\n\t\t\t\t'label': {\n\t\t\t\t\tpattern: /^([\\s\\S]{2}[ \\t]*)\\S(?:[\\s\\S]*\\S)?/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'property',\n\t\t\t\t},\n\t\t\t\t'arrow-head': {\n\t\t\t\t\tpattern: /^\\S+/,\n\t\t\t\t\talias: ['arrow', 'operator'],\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\n\t\t'arrow': [\n\t\t\t// This might look complex but it really isn't.\n\t\t\t// There are many possible arrows (see tests) and it's impossible to fit all of them into one pattern. The\n\t\t\t// problem is that we only have one lookbehind per pattern. However, we cannot disallow too many arrow\n\t\t\t// characters in the one lookbehind because that would create too many false negatives. So we have to split the\n\t\t\t// arrows into different patterns.\n\t\t\t{\n\t\t\t\t// ER diagram\n\t\t\t\tpattern: /(^|[^{}|o.-])[|}][|o](?:--|\\.\\.)[|o][|{](?![{}|o.-])/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'operator',\n\t\t\t},\n\t\t\t{\n\t\t\t\t// flow chart\n\t\t\t\t// (?:==+|--+|-\\.*-)\n\t\t\t\tpattern:\n\t\t\t\t\t/(^|[^<>ox.=-])(?:[<ox](?:==+|--+|-\\.*-)[>ox]?|(?:==+|--+|-\\.*-)[>ox]|===+|---+|-\\.+-)(?![<>ox.=-])/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'operator',\n\t\t\t},\n\t\t\t{\n\t\t\t\t// sequence diagram\n\t\t\t\tpattern: /(^|[^<>()x-])(?:--?(?:>>|[x>)])(?![<>()x])|(?:<<|[x<(])--?(?!-))/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'operator',\n\t\t\t},\n\t\t\t{\n\t\t\t\t// class diagram\n\t\t\t\tpattern:\n\t\t\t\t\t/(^|[^<>|*o.-])(?:[*o]--|--[*o]|<\\|?(?:--|\\.\\.)|(?:--|\\.\\.)\\|?>|--|\\.\\.)(?![<>|*o.-])/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'operator',\n\t\t\t},\n\t\t],\n\n\t\t'label': {\n\t\t\tpattern: /(^|[^|<])\\|(?:[^\\r\\n\"|]|\"[^\"\\r\\n]*\")+\\|/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\talias: 'property',\n\t\t},\n\n\t\t'text': {\n\t\t\tpattern: /(?:[(\\[{]+|\\b>)(?:[^\\r\\n\"()\\[\\]{}]|\"[^\"\\r\\n]*\")+(?:[)\\]}]+|>)/,\n\t\t\talias: 'string',\n\t\t},\n\t\t'string': {\n\t\t\tpattern: /\"[^\"\\r\\n]*\"/,\n\t\t\tgreedy: true,\n\t\t},\n\n\t\t'annotation': {\n\t\t\tpattern:\n\t\t\t\t/<<(?:abstract|choice|enumeration|fork|interface|join|service)>>|\\[\\[(?:choice|fork|join)\\]\\]/i,\n\t\t\talias: 'important',\n\t\t},\n\n\t\t'keyword': [\n\t\t\t// This language has both case-sensitive and case-insensitive keywords\n\t\t\t{\n\t\t\t\tpattern:\n\t\t\t\t\t/(^[ \\t]*)(?:action|callback|class|classDef|classDiagram|click|direction|erDiagram|flowchart|gantt|gitGraph|graph|journey|link|linkStyle|pie|requirementDiagram|sequenceDiagram|stateDiagram|stateDiagram-v2|style|subgraph)(?![\\w$-])/m,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern:\n\t\t\t\t\t/(^[ \\t]*)(?:activate|alt|and|as|autonumber|deactivate|else|end(?:[ \\t]+note)?|loop|opt|par|participant|rect|state|note[ \\t]+(?:over|(?:left|right)[ \\t]+of))(?![\\w$-])/im,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t},\n\t\t],\n\n\t\t'entity': /#[a-z0-9]+;/,\n\n\t\t'operator': {\n\t\t\tpattern: /(\\w[ \\t]*)&(?=[ \\t]*\\w)|:::|:/,\n\t\t\tlookbehind: true,\n\t\t},\n\t\t'punctuation': /[(){};]/,\n\t},\n};\n"],"names":["mermaid","id","grammar","comment","pattern","greedy","style","lookbehind","inside","property","operator","punctuation","arrow","alias","label","text","string","annotation","keyword","entity"],"mappings":"AACA,IAAeA,EAAA,CACdC,GAAI,UACLC,QAAA,KAAA,CAAAC,QAAA,CAAAC,QAAA,OAAAC,QAAA,GAAAC,MAAA,CAAAF,QAAA,sEAAAG,YAAA,EAAAC,OAAA,CAAAC,SAAA,wBAAAC,SAAA,IAAAC,YAAA,MAAA,oBAAA,CAAAP,QAAA,4IAAAG,YAAA,EAAAF,QAAA,EAAAG,OAAA,CAAAI,MAAA,CAAAR,QAAA,8BAAAS,MAAA,YAAAC,MAAA,CAAAV,QAAA,qCAAAG,YAAA,EAAAM,MAAA,YAAA,aAAA,CAAAT,QAAA,OAAAS,MAAA,CAAA,QAAA,eAAAD,MAAA,CAAA,CAAAR,QAAA,uDAAAG,YAAA,EAAAM,MAAA,YAAA,CAAAT,QAAA,qGAAAG,YAAA,EAAAM,MAAA,YAAA,CAAAT,QAAA,mEAAAG,YAAA,EAAAM,MAAA,YAAA,CAAAT,QAAA,uFAAAG,YAAA,EAAAM,MAAA,aAAAC,MAAA,CAAAV,QAAA,0CAAAG,YAAA,EAAAF,QAAA,EAAAQ,MAAA,YAAAE,KAAA,CAAAX,QAAA,gEAAAS,MAAA,UAAAG,OAAA,CAAAZ,QAAA,cAAAC,QAAA,GAAAY,WAAA,CAAAb,QAAA,gGAAAS,MAAA,aAAAK,QAAA,CAAA,CAAAd,QAAA,yOAAAG,YAAA,EAAAF,QAAA,GAAA,CAAAD,QAAA,2KAAAG,YAAA,EAAAF,QAAA,IAAAc,OAAA,cAAAT,SAAA,CAAAN,QAAA,gCAAAG,YAAA,GAAAI,YAAA"}