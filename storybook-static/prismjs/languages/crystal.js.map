{"version":3,"file":"crystal.js","sources":["../../src/languages/crystal.js"],"sourcesContent":["import { toArray } from '../util/iterables.js';\nimport ruby from './ruby.js';\n\n/** @type {import('../types.d.ts').LanguageProto<'crystal'>} */\nexport default {\n\tid: 'crystal',\n\tbase: ruby,\n\tgrammar ({ base }) {\n\t\treturn {\n\t\t\t'keyword': [\n\t\t\t\t/\\b(?:__DIR__|__END_LINE__|__FILE__|__LINE__|abstract|alias|annotation|as|asm|begin|break|case|class|def|do|else|elsif|end|ensure|enum|extend|for|fun|if|ifdef|include|instance_sizeof|lib|macro|module|next|of|out|pointerof|private|protected|ptr|require|rescue|return|select|self|sizeof|struct|super|then|type|typeof|undef|uninitialized|union|unless|until|when|while|with|yield)\\b/,\n\t\t\t\t{\n\t\t\t\t\tpattern: /(\\.\\s*)(?:is_a|responds_to)\\?/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t},\n\t\t\t],\n\t\t\t'number':\n\t\t\t\t/\\b(?:0b[01_]*[01]|0o[0-7_]*[0-7]|0x[\\da-fA-F_]*[\\da-fA-F]|(?:\\d(?:[\\d_]*\\d)?)(?:\\.[\\d_]*\\d)?(?:[eE][+-]?[\\d_]*\\d)?)(?:_(?:[uif](?:8|16|32|64))?)?\\b/,\n\t\t\t'operator': [\n\t\t\t\t/->/,\n\t\t\t\t...toArray(/** @type {import('../types.d.ts').GrammarTokens} */ (base).operator),\n\t\t\t],\n\t\t\t'punctuation': /[(){}[\\].,;\\\\]/,\n\t\t\t$insert: {\n\t\t\t\t'attribute': {\n\t\t\t\t\t$before: 'string-literal',\n\t\t\t\t\tpattern: /@\\[.*?\\]/,\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'delimiter': {\n\t\t\t\t\t\t\tpattern: /^@\\[|\\]$/,\n\t\t\t\t\t\t\talias: 'punctuation',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'attribute': {\n\t\t\t\t\t\t\tpattern: /^(\\s*)\\w+/,\n\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\talias: 'class-name',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'args': {\n\t\t\t\t\t\t\tpattern: /\\S(?:[\\s\\S]*\\S)?/,\n\t\t\t\t\t\t\tinside: 'crystal',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t'expansion': {\n\t\t\t\t\t$before: 'string-literal',\n\t\t\t\t\tpattern: /\\{(?:\\{.*?\\}|%.*?%)\\}/,\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'content': {\n\t\t\t\t\t\t\tpattern: /^(\\{.)[\\s\\S]+(?=.\\}$)/,\n\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\tinside: 'crystal',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'delimiter': {\n\t\t\t\t\t\t\tpattern: /^\\{[\\{%]|[\\}%]\\}$/,\n\t\t\t\t\t\t\talias: 'operator',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t'char': {\n\t\t\t\t\t$before: 'string-literal',\n\t\t\t\t\tpattern:\n\t\t\t\t\t\t/'(?:[^\\\\\\r\\n]{1,2}|\\\\(?:.|u(?:[A-Fa-f0-9]{1,4}|\\{[A-Fa-f0-9]{1,6}\\})))'/,\n\t\t\t\t\tgreedy: true,\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t},\n};\n"],"names":["crystal","id","base","ruby","grammar","keyword","pattern","lookbehind","number","operator","toArray","punctuation","$insert","attribute","$before","inside","delimiter","alias","args","expansion","content","char","greedy"],"mappings":"yFAIA,IAAeA,EAAA,CACdC,GAAI,UACJC,KAAMC,EACNC,QAAQ,EAACF,KAAEA,MACH,CACNG,QAAW,CACV,4XACA,CACCC,QAAS,gCACTC,YAAY,IAGdC,OACC,sJACDC,SAAY,CACX,QACGC,EAA6D,EAAOD,WAExEE,YAAe,iBACfC,QAAS,CACRC,UAAa,CACZC,QAAS,iBACTR,QAAS,WACTS,OAAQ,CACPC,UAAa,CACZV,QAAS,WACTW,MAAO,eAERJ,UAAa,CACZP,QAAS,YACTC,YAAY,EACZU,MAAO,cAERC,KAAQ,CACPZ,QAAS,mBACTS,OAAQ,aAIXI,UAAa,CACZL,QAAS,iBACTR,QAAS,wBACTS,OAAQ,CACPK,QAAW,CACVd,QAAS,wBACTC,YAAY,EACZQ,OAAQ,WAETC,UAAa,CACZV,QAAS,oBACTW,MAAO,cAIVI,KAAQ,CACPP,QAAS,iBACTR,QACC,0EACDgB,QAAQ"}