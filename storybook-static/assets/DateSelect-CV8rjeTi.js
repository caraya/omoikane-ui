import{j as a}from"./jsx-runtime-DwZrPTBh.js";import{r as c}from"./iframe-DeqXgmUH.js";import{c as V}from"./cn-fNskMoFt.js";import{e as L}from"./CaretDown.es-Di0rEdCy.js";const Q=({value:s,onChange:k,minYear:P=1900,maxYear:x=new Date().getFullYear()+10,includeTime:E=!1,use24HourClock:O=!1,className:U,locale:h="en-US",disabled:r=!1})=>{const u=s||new Date,[p,y]=c.useState(u.getFullYear()),[g,v]=c.useState(u.getMonth()),[j,D]=c.useState(u.getDate()),[m,N]=c.useState(u.getHours()),[f,S]=c.useState(u.getMinutes());c.useEffect(()=>{s&&(y(s.getFullYear()),v(s.getMonth()),D(s.getDate()),N(s.getHours()),S(s.getMinutes()))},[s]);const o=e=>{const t=e.year??p,n=e.month??g;let d=e.day??j;const F=e.hour??m,I=e.minute??f,_=new Date(t,n+1,0).getDate();d>_&&(d=_);const K=new Date(t,n,d,F,I);s||(y(t),v(n),D(d),N(F),S(I)),k?.(K)},z=Array.from({length:x-P+1},(e,t)=>x-t),H=Array.from({length:12},(e,t)=>t),R=new Date(p,g+1,0).getDate(),W=Array.from({length:R},(e,t)=>t+1),B=Array.from({length:24},(e,t)=>t),G=Array.from({length:12},(e,t)=>t===0?12:t),w=Array.from({length:60},(e,t)=>t),M=m>=12,b=m%12===0?12:m%12,T=(e,t)=>{let n=e===12?0:e;t?n=n===0?12:n+12:e===12&&(n=0),t&&e!==12&&(n=e+12),!t&&e===12&&(n=0),t&&e===12&&(n=12),!t&&e!==12&&(n=e),o({hour:n})},l=V("block w-full rounded-md border-0 py-1.5 pl-3 pr-8 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6 appearance-none bg-white",r&&"bg-gray-100 text-gray-500 cursor-not-allowed"),i=e=>a.jsxs("div",{className:"relative inline-block w-full",children:[e,a.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:a.jsx(L,{size:12,weight:"fill"})})]}),J=c.useMemo(()=>{try{return new Intl.DateTimeFormat(h).formatToParts(new Date).map(t=>t.type).filter(t=>["day","month","year"].includes(t))}catch{return["month","day","year"]}},[h]),C=Array.from(new Set(J)),A=()=>a.jsx("div",{className:"w-32",children:i(a.jsx("select",{value:g,onChange:e=>o({month:parseInt(e.target.value)}),disabled:r,className:l,"aria-label":"Select Month",children:H.map(e=>a.jsx("option",{value:e,children:new Intl.DateTimeFormat(h,{month:"long"}).format(new Date(2e3,e,1))},e))}))},"month"),q=()=>a.jsx("div",{className:"w-20",children:i(a.jsx("select",{value:j,onChange:e=>o({day:parseInt(e.target.value)}),disabled:r,className:l,"aria-label":"Select Day",children:W.map(e=>a.jsx("option",{value:e,children:e},e))}))},"day"),Y=()=>a.jsx("div",{className:"w-24",children:i(a.jsx("select",{value:p,onChange:e=>o({year:parseInt(e.target.value)}),disabled:r,className:l,"aria-label":"Select Year",children:z.map(e=>a.jsx("option",{value:e,children:e},e))}))},"year");return a.jsxs("div",{className:V("flex flex-wrap gap-2 items-center",U),children:[C.map(e=>e==="month"?A():e==="day"?q():e==="year"?Y():null),C.length===0&&a.jsxs(a.Fragment,{children:[A(),q(),Y()]}),E&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1 hidden sm:block"}),O?a.jsxs("div",{className:"flex gap-1 items-center",children:[a.jsx("div",{className:"w-16",children:i(a.jsx("select",{value:m,onChange:e=>o({hour:parseInt(e.target.value)}),disabled:r,className:l,"aria-label":"Select Hour",children:B.map(e=>a.jsx("option",{value:e,children:e.toString().padStart(2,"0")},e))}))}),a.jsx("span",{children:":"}),a.jsx("div",{className:"w-16",children:i(a.jsx("select",{value:f,onChange:e=>o({minute:parseInt(e.target.value)}),disabled:r,className:l,"aria-label":"Select Minute",children:w.map(e=>a.jsx("option",{value:e,children:e.toString().padStart(2,"0")},e))}))})]}):a.jsxs("div",{className:"flex gap-1 items-center",children:[a.jsx("div",{className:"w-16",children:i(a.jsx("select",{value:b,onChange:e=>T(parseInt(e.target.value),M),disabled:r,className:l,"aria-label":"Select Hour",children:G.map(e=>a.jsx("option",{value:e,children:e},e))}))}),a.jsx("span",{children:":"}),a.jsx("div",{className:"w-16",children:i(a.jsx("select",{value:f,onChange:e=>o({minute:parseInt(e.target.value)}),disabled:r,className:l,"aria-label":"Select Minute",children:w.map(e=>a.jsx("option",{value:e,children:e.toString().padStart(2,"0")},e))}))}),a.jsx("div",{className:"w-20",children:i(a.jsxs("select",{value:M?"PM":"AM",onChange:e=>T(b,e.target.value==="PM"),disabled:r,className:l,"aria-label":"Select AM/PM",children:[a.jsx("option",{value:"AM",children:"AM"}),a.jsx("option",{value:"PM",children:"PM"})]}))})]})]})]})};Q.__docgenInfo={description:"",methods:[],displayName:"DateSelect",props:{value:{required:!1,tsType:{name:"Date"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(date: Date) => void",signature:{arguments:[{type:{name:"Date"},name:"date"}],return:{name:"void"}}},description:""},minYear:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"1900",computed:!1}},maxYear:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"new Date().getFullYear() + 10",computed:!1}},includeTime:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},use24HourClock:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""},locale:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'en-US'",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};export{Q as D};
