import{j as e}from"./jsx-runtime-DwZrPTBh.js";import{r as o}from"./iframe-DeqXgmUH.js";import{r as A}from"./index-Bg2guSoB.js";import{c as m}from"./cn-fNskMoFt.js";import{H as D}from"./Typography-C6JgP99u.js";import{B as u}from"./Button-DveoISW4.js";import"./preload-helper-PPVm8Dsz.js";import"./index-Bi105ZpR.js";const N=({isOpen:n,onClose:l,title:s,children:k,footer:f,size:C="md",className:E})=>{const c=o.useRef(null),p=o.useRef(null),[x,h]=o.useState(n),[y,d]=o.useState(!1),b=200,g=s?`${s.replace(/\s+/g,"-")}-title`:void 0,B=()=>{const t=c.current;if(!t)return;const a=t.querySelectorAll('a[href], area[href], input:not([disabled]):not([type="hidden"]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex]:not([tabindex="-1"])');a.length?a[0].focus():t.focus()},v=t=>{if(t.key==="Escape"){t.preventDefault(),l();return}if(t.key==="Tab"){const a=c.current;if(!a)return;const r=Array.from(a.querySelectorAll('a[href], area[href], input:not([disabled]):not([type="hidden"]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex]:not([tabindex="-1"])')).filter(Boolean);if(r.length===0){t.preventDefault();return}const w=r[0],j=r[r.length-1];t.shiftKey?document.activeElement===w&&(t.preventDefault(),j.focus()):document.activeElement===j&&(t.preventDefault(),w.focus())}};if(o.useEffect(()=>{let t;if(n)h(!0),d(!1),p.current=document.activeElement,document.body.style.overflow="hidden",t=window.setTimeout(B,0),document.addEventListener("keydown",v);else if(x){d(!0);const a=window.setTimeout(()=>{h(!1),d(!1),document.body.style.overflow="";try{p.current?.focus()}catch{}},b);return()=>clearTimeout(a)}return()=>{typeof t<"u"&&clearTimeout(t),document.removeEventListener("keydown",v)}},[n]),!x)return null;const O=m("relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all flex flex-col max-h-[90vh]",{sm:"sm:max-w-md",md:"sm:max-w-lg",lg:"sm:max-w-2xl",xl:"sm:max-w-4xl"}[C],E),T=y?"opacity-0":"opacity-100",M=y?"opacity-0 scale-95":"opacity-100 scale-100";return A.createPortal(e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6","aria-modal":"true",children:[e.jsx("div",{className:m("fixed inset-0 bg-gray-900/50 backdrop-blur-sm transition-opacity duration-200",T),onClick:l,"aria-hidden":"true"}),e.jsxs("div",{ref:c,tabIndex:-1,role:"dialog","aria-modal":"true","aria-labelledby":g,className:m(O,"transition duration-200 ease-out",M),style:{transitionDuration:`${b}ms`},children:[s&&e.jsx("div",{className:"px-4 pt-4 pb-2",children:e.jsx(D,{as:"h2",className:"text-lg font-semibold",id:g,children:s})}),e.jsx("div",{className:"px-4 py-2 overflow-auto",children:k}),f&&e.jsx("div",{className:"px-4 py-3 border-t",children:f})]})]}),document.body)},L={title:"Components/Modal",component:N,tags:["autodocs"],argTypes:{title:{control:"text"},footer:{control:!1}}},i={render:n=>{const[l,s]=o.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx(u,{onClick:()=>s(!0),children:"Open Modal"}),e.jsx(N,{...n,isOpen:l,onClose:()=>s(!1),footer:e.jsxs(e.Fragment,{children:[e.jsx(u,{onClick:()=>s(!1),children:"Cancel"}),e.jsx(u,{className:"ml-2",onClick:()=>s(!1),children:"Confirm"})]}),children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"This is a sample modal. Replace this content with your own."}),e.jsx("p",{className:"text-sm text-gray-600",children:"It traps focus lightly via the browser, and closes on Escape or backdrop click."})]})})]})},args:{title:"Confirm Action"}};i.parameters={...i.parameters,docs:{...i.parameters?.docs,source:{originalSource:`{
  render: args => {
    const [open, setOpen] = useState(false);
    return <>
        <Button onClick={() => setOpen(true)}>Open Modal</Button>
        <Modal {...args} isOpen={open} onClose={() => setOpen(false)} footer={<>
            <Button onClick={() => setOpen(false)}>Cancel</Button>
            <Button className="ml-2" onClick={() => setOpen(false)}>Confirm</Button>
          </>}>
          <div className="space-y-4">
            <p className="text-sm text-gray-600">This is a sample modal. Replace this content with your own.</p>
            <p className="text-sm text-gray-600">It traps focus lightly via the browser, and closes on Escape or backdrop click.</p>
          </div>
        </Modal>
      </>;
  },
  args: {
    title: 'Confirm Action'
  }
}`,...i.parameters?.docs?.source}}};const $=["Basic"];export{i as Basic,$ as __namedExportsOrder,L as default};
